<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ipfsç§æœ‰é“¾çš„æ­å»º]]></title>
    <url>%2F2019%2F06%2F04%2Fipfs%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä¸»è¦è®²è¿°IPFSç§æœ‰ç¯å¢ƒçš„é…ç½®ï¼Œéœ€è¦ä½¿ç”¨ä¸¤ä¸ªèŠ‚ç‚¹ã€‚ä½¿ç”¨ä¸¤å°Windows10ä¸»æœºå®Œæˆç¯å¢ƒæ­å»º ä¸‹è½½IPFShttps://ipfs.io/ipns/dist.ipfs.io/#go-ipfsï¼Œä¸‹è½½ç¬¦åˆè‡ªå·±ç³»ç»Ÿè¦æ±‚çš„IPFSç‰ˆæœ¬ åˆå§‹åŒ–ä»“åº“è¿›å…¥IPFSè§£å‹ç›®å½•ï¼Œæ‰§è¡Œipfs initå‘½ä»¤ï¼š1234567Î» ipfs init initializing IPFS node at C:\Users\Administrator\.ipfsgenerating 2048-bit RSA keypair...donepeer identity: QmRJKX2CKgqetH8i1gcTDK3KEDRswn1ETkpd2AWedr4dsTto get started, enter: ipfs cat /ipfs/QmS4ustL54uo8FzR9455qaxZwuMiUhyvMcX9Ba8nUH4uVv/readme ç”Ÿæˆäº†ä¸€ä¸ªIPFSèŠ‚ç‚¹ï¼ŒID:QmRJKX2CKgqetH8i1gcTDK3KEDRswn1ETkpd2AWedr4dsT é…ç½®http headä¸ºäº†æ–¹ä¾¿å¤–éƒ¨è®¿é—®ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨å¦‚ä¸‹ä¸‰æ¡æŒ‡ä»¤ä¿®æ”¹é…ç½®ä¿¡æ¯123ipfs config Addresses.API /ip4/0.0.0.0/tcp/5001ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin &quot;[\&quot;*\&quot;]&quot;ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods &quot;[\&quot;PUT\&quot;, \&quot;GET\&quot;, \&quot;POST\&quot;]&quot; ç”Ÿæˆå…±äº«keyç§æœ‰ç½‘ç»œéœ€è¦æ‹¥æœ‰ç›¸åŒkeyçš„èŠ‚ç‚¹ç›¸è¿é¦–å…ˆå®‰è£…goæ‰§è¡Œç¯å¢ƒhttps://golang.google.cn/dl/ä½¿ç”¨ipfs-swarm-key-genåˆ›å»ºç§æœ‰ç½‘ç»œå…±äº«çš„key, ç§æœ‰ç½‘ç»œçš„æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä½¿ç”¨è¿™ä¸ªkey, ä¸ä½¿ç”¨è¿™ä¸ªkeyçš„èŠ‚ç‚¹æ— æ³•åŠ å…¥è¿™ä¸ªç§æœ‰ç½‘ç»œ12Î» go get -u github.com/Kubuxu/go-ipfs-swarm-key-gen/ipfs-swarm-key-genÎ» ipfs-swarm-key-gen &gt; C:\Users\EP\.ipfs\swarm.key Attion: ç¬¬ä¸€ä¸ªèŠ‚ç‚¹éœ€è¦ç”Ÿæˆswarm.keyåé¢çš„èŠ‚ç‚¹åªéœ€è¦å…±äº«è¿™ä¸ªkeyå°±å¯ä»¥ ç§»é™¤é»˜è®¤çš„bootstrapèŠ‚ç‚¹ä¸ºäº†ä¸è¿æ¥å…¨çƒIPFSç½‘ç»œï¼Œéœ€è¦å°†é»˜è®¤çš„bootstrapèŠ‚ç‚¹ä¿¡æ¯åˆ é™¤1ipfs bootstrap rm -all åŠ å…¥ç§æœ‰ç½‘ç»œå¦‚æœæ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è¿™ä¸ªæ­¥éª¤å¯ä»¥å¿½ç•¥å¦‚æœå·²çŸ¥ç§æœ‰ç½‘ç»œçš„ä¸€äº›èŠ‚ç‚¹éœ€è¦æŠŠä»–ä»¬åšä¸ºbootstrapèŠ‚ç‚¹æ·»åŠ è¿›æ–°èŠ‚ç‚¹1Î» ipfs bootstrap add /ip4/IPaddress/tcp/4001/ipfs/QmRJKX2CKgqetH8i1gcTDK3KEDRswn1ETkpd2AWedr4dsT åé¢çš„Hashå€¼å°±æ˜¯ä¹‹å‰ipfs initæ—¶å¾—åˆ°çš„HASHå€¼ ç»“æœåœ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹æ‰§è¡Œå®ŒåŠ å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡ä»¤åï¼Œæ‰§è¡Œipfs daemonå‘½ä»¤å¯åŠ¨ä¸¤ä¸ªèŠ‚ç‚¹ è¿›å…¥`http://127.0.0.1:5001/webui/ ç•Œé¢å¯ä»¥æŸ¥çœ‹èŠ‚ç‚¹ä¿¡æ¯å¯ä»¥çœ‹åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹å·²ç»è¿æ¥ä¸Šç¬¬ä¸€ä¸ªèŠ‚ç‚¹ åœ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¤„ä¸Šä¼ ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶hello.txt,æ–‡ä»¶å†…å®¹æ˜¯hello,world12Î» ipfs add hello.txt 11 B / ? [-----------------------------------------------------------------------------------------------=----------] added QmTnLmP1A3QXFRtAHeXiHJ2fiEhqVGBeUpz4oW6mcFmfDK hello.txt åœ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹å¤„ä½¿ç”¨catå‘½ä»¤å¾—åˆ°è¿™ä¸ªæ–‡ä»¶ï¼š]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>åŒºå—é“¾</tag>
        <tag>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019_05_30]]></title>
    <url>%2F2019%2F05%2F30%2F2019-05-30%2F</url>
    <content type="text"><![CDATA[IPFSå·¥ä½œåŸç†ç®€ä»‹IPFSä¸ºæ¯ä¸€ä¸ªæ–‡ä»¶åˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å“ˆå¸Œå€¼(æ–‡ä»¶æŒ‡çº¹: æ ¹æ®æ–‡ä»¶çš„å†…å®¹è¿›è¡Œåˆ›å»º), å³ä½¿æ˜¯ä¸¤ä¸ªæ–‡ä»¶å†…å®¹åªæœ‰1ä¸ªæ¯”ç‰¹çš„ä¸ç›¸åŒï¼Œå…¶å“ˆå¸Œå€¼ä¹Ÿæ˜¯ä¸ç›¸åŒçš„ã€‚æ‰€ä»¥IPFSæ˜¯åŸºäºæ–‡ä»¶å†…å®¹è¿›è¡Œå¯»å€ï¼Œ è€Œä¸åƒä¼ ç»Ÿçš„HTTPåè®®ä¸€æ ·åŸºäºåŸŸåå¯»å€ã€‚ IPFSåœ¨æ•´ä¸ªç½‘ç»œèŒƒå›´å†…å»æ‰é‡å¤çš„æ–‡ä»¶, å¹¶ä¸”ä¸ºæ–‡ä»¶å»ºç«‹ç‰ˆæœ¬ç®¡ç†, ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªæ–‡ä»¶çš„å˜æ›´å†å²éƒ½å°†è¢«è®°å½•(è¿™ä¸€ç‚¹ç±»ä¼¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·git,svnç­‰), å¯ä»¥å¾ˆå®¹æ˜“ä¸ªå›åˆ°æ–‡ä»¶çš„å†å²ç‰ˆæœ¬æŸ¥çœ‹æ•°æ®ã€‚ å½“æŸ¥è¯¢æ–‡ä»¶çš„æ—¶å€™, IPFSç½‘ç»œæ ¹æ®æ–‡ä»¶çš„å“ˆå¸Œå€¼(å…¨ç½‘å”¯ä¸€)è¿›è¡ŒæŸ¥æ‰¾ã€‚ ç”±äºæ¯ä¸ªæ–‡ä»¶çš„å“ˆå¸Œå€¼å…¨ç½‘å”¯ä¸€, æŸ¥è¯¢å°†å¾ˆå®¹æ˜“è¿›è¡Œã€‚ å¦‚æœä»…ä»…ä½¿ç”¨å“ˆå¸Œå€¼æ¥åŒºåˆ†æ–‡ä»¶çš„è¯ï¼Œä¼šç»™ä¼ æ’­é€ æˆå›°éš¾ï¼Œå› ä¸ºå“ˆå¸Œå€¼ä¸å®¹æ˜“è®°å¿†ï¼Œå°±åƒipåœ°å€ä¸€æ ·ä¸å®¹æ˜“è®°å¿†ï¼Œäºæ˜¯äººç±»å‘æ˜çš„åŸŸåã€‚IPFSåˆ©ç”¨IPNSå°†å“ˆå¸Œå€¼æ˜ å°„ä¸ºå®¹æ˜“è®°çš„åå­—ã€‚ æ¯ä¸ªèŠ‚ç‚¹é™¤äº†å­˜å‚¨è‡ªå·±éœ€è¦çš„æ•°æ®ï¼Œè¿˜å­˜å‚¨äº†ä¸€å¼ å“ˆå¸Œè¡¨ï¼Œ ç”¨æ¥è®°å½•æ–‡ä»¶å­˜å‚¨æ‰€åœ¨çš„ä½ç½®ï¼Œç”¨æ¥è¿›è¡Œæ–‡ä»¶çš„æŸ¥è¯¢ä¸‹è½½ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>IPFS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python_notes]]></title>
    <url>%2F2019%2F05%2F01%2Fpython-notes%2F</url>
    <content type="text"><![CDATA[ConfigParserhttps://www.rddoc.com/doc/Python/3.6.0/zh/library/configparser/ Generatorhttps://lotabout.me/2017/Python-Generator/ enumerate()https://blog.csdn.net/churximi/article/details/51648388 format()https://www.runoob.com/python/att-string-format.html collectionsæ¨¡å—defaultdict()å’Œnamedtuple()https://www.cnblogs.com/herbert/p/3468294.html]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[re_sub]]></title>
    <url>%2F2019%2F05%2F01%2Fre-sub%2F</url>
    <content type="text"><![CDATA[re.subçš„åŠŸèƒ½reæ˜¯regular expressionçš„æ‰€å†™ï¼Œè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼subæ˜¯substituteçš„æ‰€å†™ï¼Œè¡¨ç¤ºæ›¿æ¢ï¼›re.subæ˜¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ–¹é¢çš„å‡½æ•°ï¼Œç”¨æ¥å®ç°é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå®ç°æ¯”æ™®é€šå­—ç¬¦ä¸²çš„replaceæ›´åŠ å¼ºå¤§çš„æ›¿æ¢åŠŸèƒ½ï¼›ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼šå¦‚æœè¾“å…¥å­—ç¬¦ä¸²æ˜¯ï¼š1inputStr = &quot;hello 111 world 111&quot; é‚£ä¹ˆä½ å¯ä»¥é€šè¿‡1replacedStr = inputStr.replace(&quot;111&quot;, &quot;222&quot;) å»æ¢æˆ1&quot;hello 222 world 222&quot; ä½†æ˜¯ï¼Œå¦‚æœè¾“å…¥å­—ç¬¦ä¸²æ˜¯ï¼š1inputStr = &quot;hello 123 world 456&quot; è€Œä½ æ˜¯æƒ³æŠŠ123å’Œ456ï¼Œéƒ½æ¢æˆ222é‚£ä¹ˆå°±æ²¡æ³•ç›´æ¥é€šè¿‡å­—ç¬¦ä¸²çš„replaceè¾¾åˆ°è¿™ä¸€ç›®çš„äº†ã€‚å°±éœ€è¦å€ŸåŠ©äºre.subï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¥å®ç°è¿™ç§ç›¸å¯¹å¤æ‚çš„å­—ç¬¦ä¸²çš„æ›¿æ¢ï¼š1replacedStr = re.sub(&quot;\d+&quot;, &quot;222&quot;, inputStr) å½“ç„¶ï¼Œå®é™…æƒ…å†µä¸­ï¼Œä¼šæœ‰æ¯”è¿™ä¸ªä¾‹å­æ›´åŠ å¤æ‚çš„ï¼Œå…¶ä»–å„ç§ç‰¹æ®Šæƒ…å†µï¼Œå°±åªèƒ½é€šè¿‡æ­¤re.subå»å®ç°å¦‚æ­¤å¤æ‚çš„æ›¿æ¢çš„åŠŸèƒ½äº†ã€‚æ‰€ä»¥ï¼Œre.subçš„å«ä¹‰ï¼Œä½œç”¨ï¼ŒåŠŸèƒ½å°±æ˜¯ï¼šå¯¹äºè¾“å…¥çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆçš„å¼ºå¤§çš„å­—ç¬¦ä¸²å¤„ç†åŠŸèƒ½ï¼‰ï¼Œå»å®ç°ï¼ˆç›¸å¯¹å¤æ‚çš„ï¼‰å­—ç¬¦ä¸²æ›¿æ¢å¤„ç†ï¼Œç„¶åè¿”å›è¢«æ›¿æ¢åçš„å­—ç¬¦ä¸²å…¶ä¸­re.subè¿˜æ”¯æŒå„ç§å‚æ•°ï¼Œæ¯”å¦‚countæŒ‡å®šè¦æ›¿æ¢çš„ä¸ªæ•°ç­‰ç­‰ã€‚ re.subçš„å„ä¸ªå‚æ•°çš„è¯¦ç»†è§£é‡Šre.subå…±æœ‰äº”ä¸ªå‚æ•°ã€‚å…¶ä¸­ä¸‰ä¸ªå¿…é€‰å‚æ•°ï¼špattern, repl, stringä¸¤ä¸ªå¯é€‰å‚æ•°ï¼šcount, flags ç¬¬ä¸€ä¸ªå‚æ•°ï¼špatternpattern: è¡¨ç¤ºæ­£åˆ™ä¸­çš„æ¨¡å¼å­—ç¬¦ä¸²åæ–œæ åŠ æ•°å­—ï¼ˆ\Nï¼‰ï¼Œåˆ™å¯¹åº”ç€åŒ¹é…çš„ç»„ï¼ˆmatched groupï¼‰æ¯”å¦‚\6ï¼Œè¡¨ç¤ºåŒ¹é…å‰é¢patternä¸­çš„ç¬¬6ä¸ªgroupæ„å‘³ç€ï¼Œpatternä¸­ï¼Œå‰é¢è‚¯å®šæ˜¯å­˜åœ¨å¯¹åº”çš„ï¼Œç¬¬6ä¸ªgroupï¼Œç„¶åä½ åé¢ä¹Ÿæ‰èƒ½å»å¼•ç”¨æ¯”å¦‚ï¼Œæƒ³è¦å¤„ç†ï¼š1hello crifan, nihao crifan ä¸”æ­¤å¤„çš„ï¼Œå‰åçš„crifanï¼Œè‚¯å®šæ˜¯ä¸€æ ·çš„ã€‚è€Œæƒ³è¦æŠŠæ•´ä¸ªè¿™æ ·çš„å­—ç¬¦ä¸²ï¼Œæ¢æˆcrifanliåˆ™å°±å¯ä»¥è¿™æ ·çš„re.subå®ç°æ›¿æ¢ï¼š123inputStr = &quot;hello crifan, nihao crifan&quot;;replacedStr = re.sub(r&quot;hello (\w+), nihao \1&quot;, &quot;crifanli&quot;, inputStr);print &quot;replacedStr=&quot;,replacedStr; #crifanli ç¬¬äºŒä¸ªå‚æ•°ï¼šreplreplå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ã€‚replæ˜¯å­—ç¬¦ä¸²å¦‚æœreplæ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œå…¶ä¸­çš„ä»»ä½•åæ–œæ è½¬ä¹‰å­—ç¬¦ï¼Œéƒ½ä¼šè¢«å¤„ç†çš„\nï¼šä¼šè¢«å¤„ç†ä¸ºå¯¹åº”çš„æ¢è¡Œç¬¦ï¼›\rï¼šä¼šè¢«å¤„ç†ä¸ºå›è½¦ç¬¦ï¼›å…¶ä»–ä¸èƒ½è¯†åˆ«çš„è½¬ç§»å­—ç¬¦ï¼Œåˆ™åªæ˜¯è¢«è¯†åˆ«ä¸ºæ™®é€šçš„å­—ç¬¦ï¼šæ¯”å¦‚\jï¼Œä¼šè¢«å¤„ç†ä¸ºjè¿™ä¸ªå­—æ¯æœ¬èº«ï¼›åæ–œæ åŠ gä»¥åŠä¸­æ‹¬å·å†…ä¸€ä¸ªåå­—ï¼Œå³ï¼š\g&lt;name&gt;ï¼Œå¯¹åº”ç€å‘½äº†åçš„ç»„ï¼Œnamed groupæ¥ç€ä¸Šé¢çš„ä¸¾ä¾‹ï¼šæƒ³è¦æŠŠå¯¹åº”çš„ï¼š1hello crifan, nihao crifan ä¸­çš„crifanæå–å‡ºæ¥ï¼Œåªå‰©ï¼šcrifanå°±å¯ä»¥å†™æˆï¼š123inputStr = "hello crifan, nihao crifan";replacedStr = re.sub(r"hello (\w+), nihao \1", "\g&lt;1&gt;", inputStr);print "replacedStr=",replacedStr; #crifan å¯¹åº”çš„å¸¦å‘½åçš„ç»„ï¼ˆnamed groupï¼‰çš„ç‰ˆæœ¬æ˜¯ï¼š123inputStr = "hello crifan, nihao crifan";replacedStr = re.sub(r"hello (?P&lt;name&gt;\w+), nihao (?P=name)", "\g&lt;name&gt;", inputStr);print "replacedStr=",replacedStr; #crifan replæ˜¯å‡½æ•°ä¸¾ä¾‹è¯´æ˜ï¼šæ¯”å¦‚è¾“å…¥å†…å®¹æ˜¯ï¼š1hello 123 world 456 æƒ³è¦æŠŠå…¶ä¸­çš„æ•°å­—éƒ¨åˆ†ï¼Œéƒ½åŠ ä¸Š111ï¼Œå˜æˆï¼š1hello 234 world 567 é‚£ä¹ˆå°±å¯ä»¥å†™æˆï¼š123456789101112131415161718192021222324252627282930#!/usr/bin/python# -*- coding: utf-8 -*-import re; def pythonReSubDemo(): """ demo Pyton re.sub """ inputStr = "hello 123 world 456"; def _add111(matched): intStr = matched.group("number"); #123 intValue = int(intStr); addedValue = intValue + 111; #234 addedValueStr = str(addedValue); return addedValueStr; replacedStr = re.sub("(?P&lt;number&gt;\d+)", _add111, inputStr); print "replacedStr=",replacedStr; #hello 234 world 567 ###############################################################################if __name__=="__main__": pythonReSubDemo();``` ### ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šstringstringï¼Œå³è¡¨ç¤ºè¦è¢«å¤„ç†ï¼Œè¦è¢«æ›¿æ¢çš„é‚£ä¸ªstringå­—ç¬¦ä¸²ã€‚### ç¬¬å››ä¸ªå‚æ•°ï¼šcountä¸¾ä¾‹è¯´æ˜,æ¯”å¦‚å¯¹äºï¼š hello 123 world 456 nihao 7891234567891011121314151617181920212223242526åªæ˜¯åƒè¦å¤„ç†å‰é¢ä¸¤ä¸ªæ•°å­—ï¼š123,456ï¼Œåˆ†åˆ«ç»™ä»–ä»¬åŠ 111ï¼Œè€Œä¸å¤„ç†789 é‚£ä¹ˆå°±å¯ä»¥å†™æˆï¼š ```Python#!/usr/bin/python# -*- coding: utf-8 -*-import re; def pythonReSubDemo(): &quot;&quot;&quot; demo Pyton re.sub &quot;&quot;&quot; inputStr = &quot;hello 123 world 456 nihao 789&quot;; def _add111(matched): intStr = matched.group(&quot;number&quot;); #123 intValue = int(intStr); addedValue = intValue + 111; #234 addedValueStr = str(addedValue); return addedValueStr; replacedStr = re.sub(&quot;(?P&lt;number&gt;\d+)&quot;, _add111, inputStr, 2); print &quot;replacedStr=&quot;,replacedStr; #hello 234 world 567 nihao 789 ###############################################################################if __name__==&quot;__main__&quot;: pythonReSubDemo(); å…³äºre.subçš„æ³¨æ„äº‹é¡¹è¦æ³¨æ„ï¼Œè¢«æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œå³å‚æ•°replï¼Œæ˜¯æ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯patternæ³¨æ„åˆ°ï¼Œè¯­æ³•æ˜¯ï¼š1re.sub(pattern, repl, string, count=0, flags=0) å³ï¼Œå¯¹åº”çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯replã€‚éœ€è¦ä½ æŒ‡å®šå¯¹åº”çš„rå‰ç¼€ï¼Œæ‰æ˜¯patternï¼š1r&quot;xxxx&quot; ä¸è¦è¯¯æŠŠç¬¬å››ä¸ªå‚æ•°flagçš„å€¼ï¼Œä¼ é€’åˆ°ç¬¬ä¸‰ä¸ªå‚æ•°countä¸­äº†å½“ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°ï¼ŒåŸä»¥ä¸ºæ˜¯flagçš„å€¼æ˜¯ï¼Œç»“æœå®é™…ä¸Šæ˜¯countçš„å€¼æ‰€ä»¥å¯¼è‡´re.subä¸åŠŸèƒ½ï¼Œæ‰€ä»¥è¦å‚æ•°æŒ‡å®šæ¸…æ¥šäº†ï¼š1replacedStr = re.sub(replacePattern, orignialStr, replacedPartStr, flags=re.I); # can omit count parameter æˆ–ï¼š1replacedStr = re.sub(replacePattern, orignialStr, replacedPartStr, 1, re.I); # must designate count parameter æ‰å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ è½¬è½½ï¼šhttps://www.crifan.com/python_re_sub_detailed_introduction/]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu]]></title>
    <url>%2F2019%2F04%2F27%2Fubuntu%2F</url>
    <content type="text"><![CDATA[vimé…ç½®Vimé…ç½® viä¸­Linuxè™šæ‹Ÿæœºä¸windowsä¸»æœºä¹‹é—´ç›¸äº’å¤åˆ¶vimæœ‰12ä¸ªç²˜è´´æ¿ï¼Œåˆ†åˆ«æ˜¯0ã€1ã€2ã€â€¦ã€9ã€aã€â€œã€ï¼‹ï¼›ç”¨:regå‘½ä»¤å¯ä»¥æŸ¥çœ‹å„ä¸ªç²˜è´´æ¿é‡Œçš„å†…å®¹ã€‚åœ¨vimä¸­ç®€å•ç”¨yåªæ˜¯å¤åˆ¶åˆ°â€œï¼ˆåŒå¼•å·)ç²˜è´´æ¿é‡Œï¼ŒåŒæ ·ç”¨pç²˜è´´çš„ä¹Ÿæ˜¯è¿™ä¸ªç²˜è´´æ¿é‡Œçš„å†…å®¹è¦å°†vimçš„å†…å®¹å¤åˆ¶åˆ°æŸä¸ªç²˜è´´æ¿ï¼Œéœ€è¦é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥æ­£å¸¸æ¨¡å¼åï¼Œé€‰æ‹©è¦å¤åˆ¶çš„å†…å®¹ï¼Œç„¶åæŒ‰â€Nyå®Œæˆå¤åˆ¶ï¼Œå…¶ä¸­Nä¸ºç²˜è´´æ¿å·(æ³¨æ„æ˜¯æŒ‰ä¸€ä¸‹åŒå¼•å·ç„¶åæŒ‰ç²˜è´´æ¿å·æœ€åæŒ‰y)ï¼Œä¾‹å¦‚è¦æŠŠå†…å®¹å¤åˆ¶åˆ°ç²˜è´´æ¿aï¼Œé€‰ä¸­å†…å®¹åæŒ‰â€ayå°±å¯ä»¥äº†ï¼Œæœ‰ä¸¤ç‚¹éœ€è¦è¯´æ˜ä¸€ä¸‹â€œå·ç²˜è´´æ¿ï¼ˆä¸´æ—¶ç²˜è´´æ¿ï¼‰æ¯”è¾ƒç‰¹æ®Šï¼Œç›´æ¥æŒ‰yå°±å¤åˆ¶åˆ°è¿™ä¸ªç²˜è´´æ¿ä¸­äº†ï¼Œç›´æ¥æŒ‰på°±ç²˜è´´è¿™ä¸ªç²˜è´´æ¿ä¸­çš„å†…å®¹+å·ç²˜è´´æ¿æ˜¯ç³»ç»Ÿç²˜è´´æ¿ï¼Œç”¨â€+yå°†å†…å®¹å¤åˆ¶åˆ°è¯¥ç²˜è´´æ¿åå¯ä»¥ä½¿ç”¨Ctrlï¼‹Vå°†å…¶ç²˜è´´åˆ°å…¶ä»–æ–‡æ¡£ä¸­ï¼ŒåŒç†ï¼Œè¦æŠŠåœ¨å…¶ä»–åœ°æ–¹ç”¨Ctrlï¼‹Cæˆ–å³é”®å¤åˆ¶çš„å†…å®¹å¤åˆ¶åˆ°vimä¸­ï¼Œéœ€è¦åœ¨æ­£å¸¸æ¨¡å¼ä¸‹æŒ‰â€+pè¦å°†vimæŸä¸ªç²˜è´´æ¿é‡Œçš„å†…å®¹ç²˜è´´è¿›æ¥ï¼Œéœ€è¦é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œåœ¨æ­£å¸¸æ¨¡å¼æŒ‰â€Npï¼Œå…¶ä¸­Nä¸ºç²˜è´´æ¿å·ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå¯ä»¥æŒ‰â€5på°†5å·ç²˜è´´æ¿é‡Œçš„å†…å®¹ç²˜è´´è¿›æ¥ï¼Œä¹Ÿå¯ä»¥æŒ‰â€+på°†ç³»ç»Ÿå…¨å±€ç²˜è´´æ¿é‡Œçš„å†…å®¹ç²˜è´´è¿›æ¥ã€‚æ³¨æ„ï¼šåœ¨æˆ‘è¿™é‡Œï¼Œåªæœ‰vim.gtkæˆ–vim.gnomeæ‰èƒ½ä½¿ç”¨ç³»ç»Ÿå…¨å±€ç²˜è´´æ¿ï¼Œé»˜è®¤çš„vim.basicçœ‹ä¸åˆ°+å·å¯„å­˜å™¨æ ¹æ®å¹³å°ä¸åŒï¼Œè¦åˆ†ä¸¤ç§æƒ…å†µã€‚å…ˆç”¨ä¸‹é¢å‘½ä»¤ç¡®å®šä½ å±äºå“ªä¸€ç§1vim --version | grep clipboard æƒ…å†µä¸€ï¼Œå¦‚æœç»“æœé‡Œä½ æ‰¾åˆ°åŠ å·å¼€å¤´çš„+clipboard, vimæ²¡é—®é¢˜.ç”¨â€+y ä»£æ›¿yå°†é€‰ä¸­çš„å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ï¼Œæ•ˆæœå’Œctrl-cä¸€è‡´ã€‚ ç”¨â€+pä»£æ›¿på°†å‰ªè´´æ¿å†…å®¹å¤åˆ¶åˆ°æŒ‡å®šä½ç½®ï¼Œä¹Ÿå¯ä»¥ç”¨ctrl-vã€‚ dï¼Œxï¼Œcï¼Œsä¹Ÿä¸€æ ·ï¼Œç”¨ä¹‹å‰å‰é¢åŠ â€+ã€‚ å¦‚æœæƒ³å·æ‡’ç”¨yç›´æ¥æŠŠå†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ï¼Œéœ€è¦åˆ°vimé…ç½®æ–‡ä»¶.vimrcé‡ŒåŠ ä¸€è¡Œå±æ€§ã€‚ç”¨ä¸‹é¢å‘½ä»¤å¼€å§‹é…ç½®1vim ~/.vimrc ç„¶åï¼ŒåŠ å…¥ä¸‹é¢è¿™è¡Œ1set clipboard=unnamed ç°åœ¨ä½ çš„yï¼Œdï¼Œxï¼Œpå·²ç»èƒ½å’Œ ctrl-cå’Œctrl-v ä¸€ä¸ªæ•ˆæœï¼Œå¹¶ä¸”èƒ½äº’ç›¸æ··ç”¨ã€‚æƒ…å†µäºŒï¼Œå¦‚æœæ‰¾åˆ°çš„æ˜¯è´Ÿå·å¼€å¤´çš„-clipboardï¼Œè¯´æ˜ä½ çš„vimä¸æ”¯æŒç³»ç»Ÿå‰ªåˆ‡æ¿ï¼Œæˆ‘çš„MacOSç³»ç»Ÿè‡ªå¸¦vimå°±ä¸æ”¯æŒã€‚éœ€è¦å…ˆé‡æ–°å®‰è£…vimï¼ŒLinuxç³»ç»Ÿ1sudo apt install vim-gtk æˆ–è€…æ˜¯ sudo apt-get install vim-gnome MacOS1brew install vim å®‰è£…å¥½ä¹‹åï¼Œé‡å¤æƒ…å†µä¸€çš„æ“ä½œå³å¯ã€‚ vi å¸¸ç”¨å‘½ä»¤12345678910111213141516171819202122232425262728293031å¤åˆ¶ï¼š å¤åˆ¶ä¸€è¡Œåˆ™ï¼šyy å¤åˆ¶ä¸‰è¡Œåˆ™ï¼š3yyï¼Œå³ä»å½“å‰å…‰æ ‡+ä¸‹ä¸¤è¡Œã€‚ å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä½ç½®åˆ°è¡Œå°¾ï¼šy$ å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä½ç½®åˆ°è¡Œé¦–ï¼šy^å‰ªåˆ‡ï¼š å‰ªåˆ‡ä¸€è¡Œï¼šdd å‰åˆ‡ä¸‰è¡Œï¼š3dd,å³ä»å½“å‰è¡Œ+ä¸‹ä¸¤è¡Œè¢«å‰ªåˆ‡äº†ã€‚ å‰ªåˆ‡å½“å‰è¡Œå…‰æ ‡æ‰€åœ¨çš„ä½ç½®åˆ°è¡Œå°¾ï¼šd$ å‰ªåˆ‡å½“å‰è¡Œå…‰æ ‡æ‰€åœ¨çš„ä½ç½®åˆ°è¡Œé¦–ï¼šd^ç²˜è´´ï¼š ç”¨vé€‰ä¸­æ–‡æœ¬ä¹‹åå¯ä»¥æŒ‰yè¿›è¡Œå¤åˆ¶ï¼Œå¦‚æœæŒ‰då°±è¡¨ç¤ºå‰ªåˆ‡ï¼Œä¹‹åæŒ‰pè¿›è¡Œç²˜è´´ã€‚æ’¤é”€ä¸æ¢å¤ï¼š &apos;u&apos; : æ’¤é”€ä¸Šä¸€ä¸ªç¼–è¾‘æ“ä½œ &apos;ctrl + r&apos; : æ¢å¤ï¼Œå³å›é€€å‰ä¸€ä¸ªå‘½ä»¤ &apos;U&apos; : è¡Œæ’¤é”€ï¼Œæ’¤é”€æ‰€æœ‰åœ¨å‰ä¸€ä¸ªç¼–è¾‘è¡Œä¸Šçš„æ“ä½œvi ç¼–è¾‘å™¨ä¸­è·³åˆ°æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼šé”®ç›˜æŒ‰ä¸‹ å°å†™ ggvi ç¼–è¾‘å™¨è·³åˆ°æ–‡ä»¶æœ€åä¸€è¡Œï¼šé”®ç›˜æŒ‰ shift + gæŒ‰è¡Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ä½¿ç”¨é”®ç›˜ä¸Šçš„ç¼–è¾‘é”®Homeï¼Œå¿«é€Ÿå°†å…‰æ ‡ç§»åŠ¨è‡³å½“å‰è¡Œçš„è¡Œé¦–ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨å‘½ä»¤æ¨¡å¼ä¸­ä½¿ç”¨å¿«æ·é”®&quot;^&quot;ï¼ˆå³Shift+6ï¼‰æˆ–0ï¼ˆæ•°å­—0ï¼‰ã€‚å¿«é€Ÿç§»åŠ¨å…‰æ ‡è‡³å½“å‰è¡Œçš„è¡Œå°¾ç¼–è¾‘é”®Endã€‚ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤æ¨¡å¼ä¸­ä½¿ç”¨å¿«æ·é”®&quot;$&quot;ï¼ˆShift+4ï¼‰ã€‚ä¸å¿«æ·é”®&quot;^&quot;å’Œ0ä¸åŒï¼Œå¿«æ·é”®&quot;$&quot;å‰å¯ä»¥åŠ ä¸Šæ•°å­—è¡¨ç¤ºç§»åŠ¨çš„è¡Œæ•°ã€‚ä¾‹å¦‚ä½¿ç”¨&quot;1$&quot;è¡¨ç¤ºå½“å‰è¡Œçš„è¡Œå°¾ï¼Œ&quot;2$&quot;è¡¨ç¤ºå½“å‰è¡Œçš„ä¸‹ä¸€è¡Œçš„è¡Œå°¾ã€‚ NERDTreeæ’ä»¶https://www.jianshu.com/p/eXMxGx æ‰“å¼€æ–‡ä»¶å¤¹123nautilusï¼Œç›´æ¥æ‰“å¼€Homeã€‚ nautilus . æ‰“å¼€å½“å‰æ–‡ä»¶å¤¹ nautilus /var/www/aaa/ æ‰“å¼€æ­¤æ–‡ä»¶å¤¹ã€‚ Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), is another process using it?12ps aux | grep -i aptsudo kill -9 &lt;process id&gt; another easier way1sudo killall apt apt-get lnæŒ‡ä»¤ln [å‚æ•°][æºæ–‡ä»¶æˆ–ç›®å½•][ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•]Linuxæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ‰€è°“çš„é“¾æ¥(link)ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºæ¡£æ¡ˆçš„åˆ«åï¼Œè€Œé“¾æ¥åˆå¯åˆ†ä¸ºä¸¤ç§ : ç¡¬é“¾æ¥(hard link)ä¸è½¯é“¾æ¥(symbolic link)ï¼Œç¡¬é“¾æ¥çš„æ„æ€æ˜¯ä¸€ä¸ªæ¡£æ¡ˆå¯ä»¥æœ‰å¤šä¸ªåç§°ï¼Œè€Œè½¯é“¾æ¥çš„æ–¹å¼åˆ™æ˜¯äº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„æ¡£æ¡ˆï¼Œè¯¥æ¡£æ¡ˆçš„å†…å®¹æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ¡£æ¡ˆçš„ä½ç½®ã€‚ç¡¬é“¾æ¥æ˜¯å­˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè€Œè½¯é“¾æ¥å´å¯ä»¥è·¨è¶Šä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿã€‚è½¯é“¾æ¥(-sé€‰é¡¹)ï¼š1.è½¯é“¾æ¥ï¼Œä»¥è·¯å¾„çš„å½¢å¼å­˜åœ¨ã€‚ç±»ä¼¼äºWindowsæ“ä½œç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼2.è½¯é“¾æ¥å¯ä»¥ è·¨æ–‡ä»¶ç³»ç»Ÿ ï¼Œç¡¬é“¾æ¥ä¸å¯ä»¥3.è½¯é“¾æ¥å¯ä»¥å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶åè¿›è¡Œé“¾æ¥4.è½¯é“¾æ¥å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé“¾æ¥ç¡¬é“¾æ¥(æ— é€‰é¡¹):1.ç¡¬é“¾æ¥ï¼Œä»¥æ–‡ä»¶å‰¯æœ¬çš„å½¢å¼å­˜åœ¨ã€‚ä½†ä¸å ç”¨å®é™…ç©ºé—´2.ä¸å…è®¸ç»™ç›®å½•åˆ›å»ºç¡¬é“¾æ¥3.ç¡¬é“¾æ¥åªæœ‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­æ‰èƒ½åˆ›å»º]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TEETHER:Gnawing at ethereum to Automatically Exploit Smart Contracts]]></title>
    <url>%2F2018%2F12%2F19%2Fteether%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦é’ˆå¯¹æ™ºèƒ½åˆçº¦å®ç°è‡ªåŠ¨åŒ–æ¼æ´è¯†åˆ«å’Œæ³¨å…¥ã€‚ä¸ºæœ‰æ¼æ´çš„åˆçº¦ç”Ÿæˆé€šç”¨å®šä¹‰ï¼Œåœ¨å­—èŠ‚ç çš„åŸºç¡€ä¸Šä½¿ç”¨TEETHERå®ç°æ³¨å…¥ã€‚ ä»‹ç»è¿™ä¸ªå·¥å…·ä¸»è¦ç”¨æ¥å®ç°è‡ªåŠ¨åŒ–æ¼æ´æ³¨å…¥ï¼Œå‡è®¾æ”»å‡»è€…æ— ä»»ä½•ç‰¹æƒã€‚å¯¹åˆçº¦æ¼æ´è¿›è¡Œå®šä¹‰ï¼Œåˆçº¦ä¸­ä»·å€¼çš„è½¬ç§»åªåœ¨å°‘æ•°æƒ…å†µä¸‹å‘ç”Ÿã€‚ä¸ºæ­¤å®šä¹‰äº†å››ç§æ ‡å‡†ï¼šå¯ä»¥ç”¨æ¥åˆ›å»ºå¸¸è§„äº¤æ˜“çš„(CALL)ï¼Œç”¨æ¥ç»“æŸåˆçº¦çš„(SELFDESTRUCT)ï¼Œä¸¤ä¸ªå¯ä»¥å¼•èµ·ä»£ç æ³¨å…¥çš„(CALLCODE, DELEGATECALL)æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–¹æ³•æ¥æ‰¾åˆ°ä¸€ä¸ªåˆçº¦ä¸­çš„æ¼æ´æ‰§è¡Œè·¯å¾„ï¼Œå¹¶ä¸”ä½¿ç”¨ç¬¦å·æ‰§è¡Œæ¥è‡ªåŠ¨åŒ–ç”Ÿæˆä¸€ä¸ªæ³¨å…¥ã€‚æ–¹æ³•å¦‚ä¸‹: æˆ‘ä»¬åœ¨åˆçº¦çš„æ§åˆ¶æµå›¾ä¸­å¯»æ‰¾å…³é”®è·¯å¾„ï¼Œç„¶åç¡®å®šå‚æ•°å¯ä»¥è¢«æ”»å‡»è€…æ§åˆ¶çš„å…³é”®æŒ‡ä»¤ã€‚ä¸€æ—¦ç¡®å®šäº†ä¸€æ¡è·¯å¾„ï¼Œæˆ‘ä»¬åˆ©ç”¨ç¬¦å·æ‰§è¡Œå°†è¿™æ¡è·¯å¾„è½¬åŒ–æˆä¸€ç³»åˆ—çš„çº¦æŸæ¡ä»¶ã€‚ä½¿ç”¨çº¦æŸæ¡ä»¶æ±‚è§£å™¨æˆ‘ä»¬å°±å¯ä»¥æ¨æ–­æ”»å‡»è€…å¿…é¡»æ‰§è¡Œå“ªäº›äº‹åŠ¡æ¥è§¦å‘æ¼æ´ã€‚æ™ºèƒ½åˆçº¦çš„ç‰¹å®šæ‰§è¡Œç¯å¢ƒä½¿è¿™ä¸ªä»»åŠ¡å¹¶ä¸ç®€å•ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ç¬¦å·åŒ–åœ°å¤„ç†å“ˆå¸Œå€¼ï¼Œè¿™äº›å“ˆå¸Œå€¼åœ¨æ™ºèƒ½åˆçº¦ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ä¸ºäº†è¯„ä¼°æˆ‘ä»¬æ–¹æ³•çš„å®ç”¨æ€§ï¼Œæˆ‘ä»¬å¯¹åŒºå—é“¾ä¸Š38757ä¸ªåˆçº¦è¿›è¡Œäº†å¤§è§„æ¨¡åˆ†æã€‚TEETHERå‘ç°äº†815ä¸ªåˆçº¦å¯ä»¥è¢«è‡ªåŠ¨åŒ–æ³¨å…¥ï¼Œä¸éœ€è¦äººå·¥äº¤äº’å’Œç¡®å®šï¼Œå¹¶ä¸”ä¸éœ€è¦åˆçº¦çš„æºä»£ç ã€‚å› ä¸ºä»£ç å…±äº«ï¼Œè¿™ä½¿1731ä¸ªè´¦æˆ·å¤„äºå±é™©ä¹‹ä¸­ã€‚æ›´è¿›ä¸€æ­¥ï¼Œç¤ºä¾‹è¡¨æ˜ï¼Œè®¸å¤šè¿™äº›æ½œåœ¨çš„æ¼æ´æ˜¯ç”±äºSolidityçš„è®¾è®¡æœºåˆ¶å’Œå¯¹EVMæ‰§è¡Œæ¨¡å¼çš„è¯¯è§£å¯¼è‡´çš„ã€‚ä¸»è¦è´¡çŒ®:1.åœ¨ä½çº§çš„EVMæŒ‡ä»¤ä¸Šï¼Œæå‡ºäº†ä¸€ä¸ªæ¼æ´åˆçº¦çš„å¹¿æ³›å®šä¹‰ã€‚2.åŸºäºæ™ºèƒ½åˆçº¦å­—èŠ‚ç æå‡ºäº†ä¸€ä¸ªç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–æ³¨å…¥å·¥å…·ã€‚æœ€åæˆ‘ä»¬è¿˜å¤„ç†äº†ä¸€äº›EVMçš„ç‰¹å®šæŒ‘æˆ˜ï¼Œæ¯”å¦‚è¯´ç¬¦å·åŒ–åœ°å¤„ç†å“ˆå¸Œå€¼çš„æ–°æ–¹æ³•ã€‚3.ä½¿ç”¨è¿™ä¸ªå·¥å…·å¯¹æ™ºèƒ½åˆçº¦è¿›è¡Œäº†å¤§è§„æ¨¡çš„åˆ†æã€‚ èƒŒæ™¯åœ¨è¿™éƒ¨åˆ†ä»‹ç»æ™ºèƒ½åˆçº¦ï¼Œä»¥å¤ªåŠè™šæ‹Ÿæœºå’Œæ™ºèƒ½åˆçº¦çš„æ‰§è¡Œæ¨¡å¼ã€‚ äº¤æ˜“ç³»ç»Ÿç”¨æˆ·åœ¨è½¬è´¦å’Œè°ƒç”¨åˆçº¦çš„æ—¶å€™å‘èµ·äº¤æ˜“ï¼ŒçŸ¿å·¥å¤„ç†äº¤æ˜“å¹¶ä¸”ä½¿ç”¨å…±è¯†åè®®ç¡®è®¤æ–°å‡ºçš„å—ã€‚çŸ¿å·¥æŒ–å—ä¼šè·å¾—å¤„ç†è´¹ï¼Œä¸ºäº†é˜²æ­¢æ‹’ç»æœåŠ¡æ”»å‡»å’Œé¼“åŠ±çŸ¿å·¥å‡ºå—ã€‚åŒºå—é“¾ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥éªŒè¯ç›®å‰çš„ç³»ç»ŸçŠ¶æ€ã€‚ æ™ºèƒ½åˆçº¦æ™ºèƒ½åˆçº¦æ˜¯ä¸ç‰¹å®šä»£ç ç‰‡æ®µç›¸å…³çš„ä»¥å¤ªåŠè´¦æˆ·ï¼Œæ¯ä¸ªæ™ºèƒ½åˆçº¦éƒ½æœ‰ç§æœ‰å­˜å‚¨ï¼Œè™½ç„¶ç§æœ‰å­˜å‚¨ç©ºé—´çš„å†…å®¹åªæœ‰åˆçº¦æœ¬èº«å¯ä»¥è¯»å†™ï¼Œä½†æ˜¯é€šè¿‡åˆ†æåŒºå—é“¾ä¸Šæ¯ä¸€ç¬”äº¤æ˜“ä¾ç„¶å¯ä»¥é‡æ„åˆçº¦ç§æœ‰å­˜å‚¨ä¸­çš„å†…å®¹ã€‚ EVMEVMæ˜¯ä¸€ä¸ª256æ¯”ç‰¹çš„å †æ ˆè™šæ‹Ÿæœºã€‚é™¤äº†ç®—æœ¯æŒ‡ä»¤å’Œæ§åˆ¶æµæŒ‡ä»¤ï¼ŒEVMè¿˜æä¾›ç‰¹å®šæŒ‡ä»¤æ¥è·å–å½“å‰äº¤æ˜“çš„è®¿é—®å­—æ®µã€æ›´æ”¹åˆçº¦çš„ç§æœ‰å­˜å‚¨ã€æŸ¥è¯¢å½“å‰åŒºå—é“¾çŠ¶æ€å’Œåˆ›å»ºä¸‹ä¸€ç¬”äº¤æ˜“ã€‚ Smart Contract Vulnerabilitiesåˆ†ææ–¹æ³•ï¼šé™æ€åœ°åˆ†æå¥‘çº¦çš„ä»£ç ï¼Œä»¥æ­ç¤ºå¯èƒ½è¢«æ»¥ç”¨æ¥çªƒå–å¥‘çº¦ä¸­å­˜å‚¨çš„Etherçš„å…³é”®ä»£ç éƒ¨åˆ†ã€‚ Critical Instructionsç¡®å®šäº†å››æ¡EVMæŒ‡ä»¤ï¼Œå¦‚æœæƒ³ä»åˆçº¦ä¸­æå–Etherå¿…é¡»æ‰§è¡Œå…¶ä¸­çš„ä¸€ç§ã€‚è¿™å››æ¡æŒ‡ä»¤å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šæœ‰ä¸¤æ¡æŒ‡ä»¤å¯ä»¥ç›´æ¥è½¬è´¦ï¼Œå¦å¤–ä¸¤æ¡å…è®¸åœ¨åˆçº¦ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œä»»æ„Ethereumå­—èŠ‚ç ã€‚ Direct value transferCALLå’ŒSELFDESTRUCTå¯ä»¥å…è®¸ç›´æ¥è½¬è´¦åˆ°ä¸€ä¸ªæŒ‡å®šçš„åœ°å€ï¼ŒCALLæŒ‡ä»¤æ‰§è¡Œçš„æ—¶å€™ä¼šæ ˆä¸­ä¼šæœ‰å¦‚ä¸‹å‚æ•°ï¼š gasâ€”åœ¨äº¤æ˜“æœŸé—´å¯èƒ½æ¶ˆè€—çš„gas toâ€”äº¤æ˜“çš„æ”¶æ¬¾æ–¹ valueâ€”è½¬è´¦é‡‘é¢4-7. in offset, in size, out offset, out sizeâ€”å†…å­˜ä½ç½®å’Œè°ƒç”¨æ•°æ®é•¿åº¦åˆ†åˆ«è¿”å›æ•°æ® ///å¦‚æœæ”»å‡»è€…å¯ä»¥æ§åˆ¶ç¬¬äºŒä¸ªæ ˆå†…å‚æ•°å¹¶ä¸”ç¬¬ä¸‰ä¸ªå‚æ•°éé›¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¾¾åˆ°æ”»å‡»çš„ç›®çš„ã€‚SELFDESTRUCTæŒ‡ä»¤å¯ä»¥åœ¨é”€æ¯åˆçº¦çš„åŒæ—¶å°†åˆçº¦çš„ä½™é¢è½¬åˆ°æŒ‡å®šçš„åœ°å€ã€‚Code injectionCALLCoDEå’ŒDELEGATECALLæŒ‡ä»¤ä¼šå¯¼è‡´åœ¨åˆçº¦ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œç¬¬ä¸‰æ–¹ä»£ç ã€‚å¦‚æœæ”»å‡»è€…å¯ä»¥æ§åˆ¶CALLCODEæˆ–è€…DELEGATECALLæŒ‡ä»¤çš„toï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨åˆçº¦ä¸­æ‰§è¡Œtoåˆçº¦ä¸­çš„ç¬¬ä¸‰æ–¹ä»£ç ã€‚Vulnerable Stateå®šä¹‰åˆçº¦çš„å±é™©çŠ¶æ€ï¼šDef1(Critical Path): CALLæŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œç¬¬ä¸‰ä¸ªæ ˆå‚æ•°éé›¶å¹¶ä¸”ç¬¬äºŒä¸ªæ ˆå‚æ•°å¯ä»¥è¢«æ§åˆ¶ã€‚ SELFDESTRUCTæŒ‡ä»¤æ‰§è¡Œçš„æ—¶å€™ç¬¬ä¸€ä¸ªæ ˆå‚æ•°å¯ä»¥è¢«æ§åˆ¶ã€‚ CALLCODEæˆ–è€…DELEGATECALLæŒ‡ä»¤æ‰§è¡Œçš„æ—¶å€™ç¬¬äºŒä¸ªæ ˆå‚æ•°å¯ä»¥è¢«æ§åˆ¶ã€‚Def2(Vulnerable State):å¦‚æœæŸä¸ªäº¤æ˜“å¯ä»¥æ‰§è¡ŒCritical Pathé‚£ä¹ˆå°±æ˜¯Vulnarable StateStorageå‚è€ƒä»¥ä¸‹åˆçº¦ï¼š12345678910111213contract Stateful&#123; bool vulnerabel = false; function makeVulnerable() &#123; vulnerable = true; &#125; function exploit(address attacker) &#123; require(vulnerabel); attacker.transfer(this.balance); &#125;&#125; å½“vulnerableå˜é‡ç­‰äºfalseçš„æ—¶å€™ç›´æ¥è°ƒç”¨exploitå‡½æ•°å¹¶ä¸èƒ½æ”»å‡»æˆåŠŸï¼Œä½†æ˜¯åœ¨è°ƒç”¨makeVulnerableå‡½æ•°åå°±ä¼šåˆ°è¾¾vulnerableçŠ¶æ€ã€‚æ‰€ä»¥æˆ‘ä»¬å¿…é¡»æ‰©å±•æˆ‘ä»¬çš„å®šä¹‰ï¼Œä»¥åŒ…å«çŠ¶æ€çš„æ¦‚å¿µï¼Œå®ƒæ•è·å¯¹åˆçº¦å­˜å‚¨æ‰€åšçš„ä¿®æ”¹ã€‚å”¯ä¸€èƒ½å¤Ÿæ›´æ”¹å­˜å‚¨çš„æŒ‡ä»¤å°±æ˜¯SSTOREï¼Œå®šä¹‰state-changing transactionsDef3(State Changing Path)è‡³å°‘åŒ…å«ä¸€æ¡SSTOREæŒ‡ä»¤Def4(State Changing Transaction)å¦‚æœä¸€ä¸ªäº¤æ˜“çš„æ‰§è¡Œè·¯å¾„æ˜¯ä¸€ä¸ªState Changing Pathå°†ä¸Šè¿°ä¸Def2ç»“åˆå¯ä»¥ç»™å‡ºä»¥ä¸‹å®šä¹‰ï¼šDef5(Vulnerable)å¦‚æœä¸€ä¸ªåˆçº¦ä¸­å­˜åœ¨ä¸€ç³»åˆ—èƒ½å¤Ÿå¯¼è‡´vulnerabel stateçš„state changing transactionä¸€ä¸ªæˆåŠŸçš„auto exploitæ˜¯ç”±ä¸€ç³»åˆ—å¯¼è‡´çŠ¶æ€æ›´æ”¹çš„å…³é”®äº¤æ˜“ç»„æˆã€‚ Automatic Exploitationç¬¬ä¸€æ­¥ï¼ŒCFGå‘ç°æ¨¡å‹åç¼–è¯‘EVMå­—èŠ‚ç ç„¶åé‡æ„æ§åˆ¶æµå›¾(CFG).ç„¶åæ‰«ææ§åˆ¶æµå›¾è·å–critical instructionå’Œstate changing instructionã€‚Path generationæ¨¡å‹ä»CFGçš„æ ¹éƒ¨è·å–è¾¾åˆ°è¿™äº›æŒ‡ä»¤çš„è·¯å¾„ï¼Œconstraint generationæ¨¡å‹ä½¿ç”¨ç¬¦å·æ‰§è¡Œç”Ÿæˆä¸€ç³»åˆ—çš„è·¯å¾„çº¦æŸã€‚æœ€åexploit generationæ¨¡å‹è§£å†³critical pathå’Œstate changing pathçº¦æŸæ¥ç”Ÿæˆexploitã€‚ CFG RecoveryEVMä½¿ç”¨ä¸ç›´æ¥çš„è·³è½¬æä¾›æ§åˆ¶æµæŒ‡ä»¤ï¼Œæœ‰æ¡ä»¶çš„JUMPIå’Œæ— æ¡ä»¶çš„JUMPéƒ½ä»æ ˆé¡¶è¯»å–è·³è½¬ç›®çš„åœ°ã€‚è·³è½¬ç›®çš„åœ°åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥è½»æ¾å¾—åˆ°ï¼Œæ¯”å¦‚è¯´PUSH2 &lt;addr&gt;;JUMPï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿä¸é‚£ä¹ˆæ˜æ˜¾ã€‚]]></content>
      <categories>
        <category>è®ºæ–‡</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡</tag>
        <tag>æ™ºèƒ½åˆçº¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JarvisOJ_è½¯ä»¶ç ´è§£(1)]]></title>
    <url>%2F2018%2F12%2F18%2Fjarvis-wp4%2F</url>
    <content type="text"><![CDATA[ä¸‹è½½æ–‡ä»¶ä¸‹è½½æ–‡ä»¶åè§£å‹ï¼Œå¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç”¨PEiDåˆ†æï¼Œå‘ç°è½¯ä»¶æ²¡æœ‰åŠ å£³ï¼Œè€Œä¸”æ˜¯32ä½çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ç”¨Ollydbgåˆ†æå°†æ–‡ä»¶åœ¨odä¸­æ‰“å¼€ï¼ŒæŸ¥çœ‹å¼•ç”¨çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼šå‘ç°äº†å›¾ä¸­â€ä½ èµ¢äº†â€å­—æ ·çš„å­—ç¬¦ä¸²ï¼ŒçŒœæƒ³åˆ¤æ–­è¯­å¥åº”è¯¥åœ¨å…¶é™„è¿‘ã€‚è½¬åˆ°è¯¥ä½ç½®:åœ¨å…¶å‘¨å›´å‘ç°ä¸€ç³»åˆ—çš„åˆ¤æ–­å’Œè·³è½¬è¯­å¥ï¼ŒçŒœæƒ³åº”è¯¥ä¸å­—ç¬¦ä¸²åˆ¤æ–­ç›¸å…³:åœ¨ä¸Šé¢â€è¾“å…¥å£ä»¤â€å­—æ ·å¤„ä¸‹æ–­ç‚¹: åŠ¨æ€è°ƒè¯•è¿è¡Œä¸‹æ–­ç‚¹åè¿›è¡ŒåŠ¨æ€è°ƒè¯•è¿è¡Œï¼Œå‘ç°ç¨‹åºåœ¨è¾“å…¥å­—ç¬¦ä¸²åç¡®å®åœç•™åœ¨æ–­ç‚¹ä½ç½®ï¼Œstep overï¼šæ ¹æ®è°ƒè¯•ä¿¡æ¯å’Œæ±‡ç¼–è¯­å¥å¯ä»¥åˆ¤æ–­å‡ºç¨‹åºçš„æ‰§è¡Œé€»è¾‘:å›¾ä¸­çº¢è‰²å¤§æ–¹æ¡†ä¸­æ˜¯å¾ªç¯åˆ¤æ–­å­—ç¬¦ä¸²çš„æ±‡ç¼–ä»£ç ï¼Œå…¶é€»è¾‘æ˜¯: å–EAXä¸ECXç›¸åŠ åå¾—åˆ°åœ°å€ä¸­çš„å€¼èµ‹äºˆDL å°†DLä¸EAXåœ°å€ä¸­çš„å­—ç¬¦ä¸²äº¦æˆ–(EAXä¸­çš„å­—ç¬¦ä¸²å°±æ˜¯è¾“å…¥çš„å­—ç¬¦ä¸²)EAXä¸ECXçš„åœ°å€ç›¸åŠ ä¸º0x00CD77F8ï¼Œå…¶ä¸­å…·ä½“å€¼å¦‚çº¢è‰²é•¿æ–¹æ¡†ä¸­æ‰€ç¤ºã€‚åœ¨å¼‚æˆ–å®Œæˆåå°†ç»“æœä¸46171C1B, 3020FDF4, 7E8E0CB7, 78, DEè¿›è¡Œæ¯”è¾ƒï¼Œåªæœ‰å€¼å…¨éƒ¨ç›¸ç­‰æ—¶æ‰è®¤ä¸ºæ­£ç¡®ã€‚ç¼–å†™ç¨‹åºè§£ç æ³¨æ„æœ€åæ¯”è¾ƒçš„æ•°å­—ä¸­æœ‰é«˜ä½ä½çš„åŒºåˆ«123456s1 = [0x28, 0x57, 0x64, 0x6B, 0x93, 0x8F, 0x65, 0x51, 0xE3, 0x53, 0xE4, 0x4E, 0x1A, 0xFF]s2 = [0x1B, 0x1C, 0x17, 0x46, 0xF4, 0xFD, 0x20, 0x30, 0xB7, 0x0C, 0x8E, 0x7E, 0x78, 0xDE]flag = ''for i in range(len(s1)): flag = flag + chr(s2[i] ^ s1[i])print flag è¿è¡Œåå¾—åˆ°çš„flagä¸ºï¼š3Ks-grEaT_j0b!]]></content>
      <categories>
        <category>writeup</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JarvisOJ_stheasy]]></title>
    <url>%2F2018%2F12%2F17%2Fjarvis-wp3%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨fileæŒ‡ä»¤æŸ¥çœ‹æ–‡ä»¶å±æ€§1234$file ctf2ctf2: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.18, BuildID[sha1]=ae99a50022c1d9d3bf96c045151d1edcdab9af94, stripped åœ¨linuxä¸‹å°è¯•è¿è¡Œ123$ ./ctf2Input flag:jdijifFlag is wrong. åœ¨IDA32ä¸‹æ‰“å¼€mainå‡½æ•°çš„ä¼ªä»£ç :çº¢è‰²æ–¹æ¡†ä¸­æ˜¯è¿›è¡ŒåŒ¹é…çš„å‡½æ•°åç§°sub_8048530()å‡½æ•°ä¼ªä»£ç :æ‰€æ±‚çš„flagä¸æ•°ç»„byte_8049B15å’Œå­—ç¬¦ä¸²byte_8049AE0æœ‰å…³ï¼Œå®ƒä»¬å…·ä½“çš„å€¼å¦‚ä¸‹ï¼šçº¢è‰²æ–¹æ¡†ä¸ºå­—ç¬¦ä¸²ï¼Œè“è‰²æ–¹æ¡†ä¸ºæ•°ç»„çš„å€¼ å¯ä»¥æ ¹æ®ä¸‹åˆ—ä»£ç è§£å‡ºflag123456789num = [0x48, 0x5D, 0x8D, 0x24, 0x84, 0x27, 0x99, 0x9F, 0x54, 0x18, \ 0x1E, 0x69, 0x7E, 0x33, 0x15, 0x72, 0x8D, 0x33, 0x24, 0x63, 0x21, \ 0x54, 0x0C, 0x78, 0x78, 0x78, 0x78, 0x78, 0x1B, 0x0]s = 'ak2j9Gh&#125;AgfY4ds-a6QW1#k5ER_T[cvLbV7nOm3ZeX&#123;CMt8SZo]U'f = ''print len(s)for i in range(29): f = f + s[num[i] / 3 - 2]print f è¿è¡Œå‡ºæ¥flagçš„å€¼ä¸º:kctf{YoU_hAVe-GOt-fLg_233333}]]></content>
      <categories>
        <category>writeup</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JarvisOJ_FindKey]]></title>
    <url>%2F2018%2F12%2F17%2Fjarvis-wp2%2F</url>
    <content type="text"><![CDATA[ä¸‹è½½æ–‡ä»¶ä½¿ç”¨fileæŒ‡ä»¤æŸ¥çœ‹æ–‡ä»¶ç±»å‹:12$file findkeyfindkey.pyo: python 2.7 byte-compiled å‘ç°æ–‡ä»¶æ˜¯python2çš„å­—èŠ‚ç æ–‡ä»¶ ä½¿ç”¨pythonè¿è¡Œfindkeyå­—èŠ‚ç 123$ python findkey.pyoInput your Key:hhhWrong Key!! ä½¿ç”¨uncompyle6å·¥å…·å¯¹pythonå­—èŠ‚ç åæ±‡ç¼–å®‰è£…ï¼špython -m pip install uncompyle6ä½¿ç”¨: compyle6 findkeyè·å¾—çš„åæ±‡ç¼–ä»£ç :12345678910111213141516171819202122232425# uncompyle6 version 3.2.4# Python bytecode 2.7 (62211)# Decompiled from: Python 2.7.15rc1 (default, Nov 12 2018, 14:31:15) # [GCC 7.3.0]# Embedded file name: findkey# Compiled at: 2016-04-30 02:54:18import syslookup = [196, 153, 149, 206, 17, 221, 10, 217, 167, 18, 36, 135, 103, 61, 111, 31, 92, 152, 21, 228, 105, 191, 173, 41, 2, 245, 23, 144, 1, 246, 89, 178, 182, 119, 38, 85, 48, 226, 165, 241, 166, 214, 71, 90, 151, 3, 109, 169, 150, 224, 69, 156, 158, 57, 181, 29, 200, 37, 51, 252, 227, 93, 65, 82, 66, 80, 170, 77, 49, 177, 81, 94, 202, 107, 25, 73, 148, 98, 129, 231, 212, 14, 84, 121, 174, 171, 64, 180, 233, 74, 140, 242, 75, 104, 253, 44, 39, 87, 86, 27, 68, 22, 55, 76, 35, 248, 96, 5, 56, 20, 161, 213, 238, 220, 72, 100, 247, 8, 63, 249, 145, 243, 155, 222, 122, 32, 43, 186, 0, 102, 216, 126, 15, 42, 115, 138, 240, 147, 229, 204, 117, 223, 141, 159, 131, 232, 124, 254, 60, 116, 46, 113, 79, 16, 128, 6, 251, 40, 205, 137, 199, 83, 54, 188, 19, 184, 201, 110, 255, 26, 91, 211, 132, 160, 168, 154, 185, 183, 244, 78, 33, 123, 28, 59, 12, 210, 218, 47, 163, 215, 209, 108, 235, 237, 118, 101, 24, 234, 106, 143, 88, 9, 136, 95, 30, 193, 176, 225, 198, 197, 194, 239, 134, 162, 192, 11, 70, 58, 187, 50, 67, 236, 230, 13, 99, 190, 208, 207, 7, 53, 219, 203, 62, 114, 127, 125, 164, 179, 175, 112, 172, 250, 133, 130, 52, 189, 97, 146, 34, 157, 120, 195, 45, 4, 142, 139]pwda = [188, 155, 11, 58, 251, 208, 204, 202, 150, 120, 206, 237, 114, 92, 126, 6, 42]pwdb = [53, 222, 230, 35, 67, 248, 226, 216, 17, 209, 32, 2, 181, 200, 171, 60, 108]flag = raw_input('Input your Key:').strip()if len(flag) != 17: print 'Wrong Key!!' sys.exit(1)flag = flag[::-1]for i in range(0, len(flag)): if ord(flag[i]) + pwda[i] &amp; 255 != lookup[i + pwdb[i]]: print 'Wrong Key!!' sys.exit(1)print 'Congratulations!!'# okay decompiling findkey.pyoFile '-o' doesn't exist. SkippedFile 'test.py' doesn't exist. Skipped# # Successfully decompiled file ä½¿ç”¨ä¸‹åˆ—ä»£ç è·å–key123456789import syslookup = [196, 153, 149, 206, 17, 221, 10, 217, 167, 18, 36, 135, 103, 61, 111, 31, 92, 152, 21, 228, 105, 191, 173, 41, 2, 245, 23, 144, 1, 246, 89, 178, 182, 119, 38, 85, 48, 226, 165, 241, 166, 214, 71, 90, 151, 3, 109, 169, 150, 224, 69, 156, 158, 57, 181, 29, 200, 37, 51, 252, 227, 93, 65, 82, 66, 80, 170, 77, 49, 177, 81, 94, 202, 107, 25, 73, 148, 98, 129, 231, 212, 14, 84, 121, 174, 171, 64, 180, 233, 74, 140, 242, 75, 104, 253, 44, 39, 87, 86, 27, 68, 22, 55, 76, 35, 248, 96, 5, 56, 20, 161, 213, 238, 220, 72, 100, 247, 8, 63, 249, 145, 243, 155, 222, 122, 32, 43, 186, 0, 102, 216, 126, 15, 42, 115, 138, 240, 147, 229, 204, 117, 223, 141, 159, 131, 232, 124, 254, 60, 116, 46, 113, 79, 16, 128, 6, 251, 40, 205, 137, 199, 83, 54, 188, 19, 184, 201, 110, 255, 26, 91, 211, 132, 160, 168, 154, 185, 183, 244, 78, 33, 123, 28, 59, 12, 210, 218, 47, 163, 215, 209, 108, 235, 237, 118, 101, 24, 234, 106, 143, 88, 9, 136, 95, 30, 193, 176, 225, 198, 197, 194, 239, 134, 162, 192, 11, 70, 58, 187, 50, 67, 236, 230, 13, 99, 190, 208, 207, 7, 53, 219, 203, 62, 114, 127, 125, 164, 179, 175, 112, 172, 250, 133, 130, 52, 189, 97, 146, 34, 157, 120, 195, 45, 4, 142, 139]pwda = [188, 155, 11, 58, 251, 208, 204, 202, 150, 120, 206, 237, 114, 92, 126, 6, 42]pwdb = [53, 222, 230, 35, 67, 248, 226, 216, 17, 209, 32, 2, 181, 200, 171, 60, 108]flag = &apos;&apos;for i in range(0, len(pwda)): tmp = lookup[i + pwdb[i]] - pwda[i] &amp; 255 flag = flag + chr(tmp)print flag[::-1] pythonä¸­s[start: end: step]ï¼Œæ‰€ä»¥flag[::-1]è¡¨ç¤ºä»å­—ç¬¦ä¸²ç»“å°¾åˆ°å­—ç¬¦ä¸²å¼€å¤´é€†åº]]></content>
      <categories>
        <category>writeup</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JarvisOJ_CrackMe]]></title>
    <url>%2F2018%2F12%2F17%2Fjarvis-wp1%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®ä¸‹è½½åå¾—åˆ°exeå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰§è¡Œç•Œé¢å¦‚ä¸‹ï¼šFLAGå°±æ˜¯æ³¨å†Œç ï¼Œè¯´æ˜éœ€è¦å¾—åˆ°ä¸è¾“å…¥å­—ç¬¦ä¸²ç›¸åŒ¹é…çš„æ­£ç¡®æ³¨å†Œç  ä½¿ç”¨PEiDå·¥å…·åˆ†æexeæ–‡ä»¶æ˜¯å¦åŠ å£³ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼šè¯´æ˜å¯æ‰§è¡Œæ–‡ä»¶æ²¡æœ‰è¢«åŠ å£³ï¼Œç¼–ç¨‹è¯­è¨€æ˜¯C# ä½¿ç”¨.NET Reflectorå¯¹å¯æ‰§è¡Œæ–‡ä»¶è¿›è¡Œåˆ†æï¼šæ³¨å†Œç ä½¿ç”¨Base64ç¼–ç åçš„ç»“æœä¸º:UENURntFYTV5X0RvX05ldF9DcjRjazNyfQ==ä½¿ç”¨Base64è§£ç åç»“æœä¸º:PCTF{Ea5y_Do_Net_Cr4ck3r}]]></content>
      <categories>
        <category>writeup</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PEiDçš„ä½¿ç”¨]]></title>
    <url>%2F2018%2F12%2F17%2Fpeid%2F</url>
    <content type="text"><![CDATA[PEiDæ˜¯ä¸€ä¸ªç»å…¸çš„æŸ¥å£³ç¨‹åº,å…¶æ’ä»¶æ•°é‡è¿œè¶…ç™¾ç§,ä½¿å®ƒå…·å¤‡äº†å„ç§åŠŸèƒ½,ä¾‹å¦‚é€šç”¨è„±å£³å’Œé’ˆå¯¹æ€§è„±å£³.è™½ç„¶å·²ç»åœæ­¢æ›´æ–°,ä½†æ˜¯ç‰¹å¾,ç­¾åæ£€æµ‹ç­‰æŠ€æœ¯æ²¡æœ‰å¤±æ•ˆ,ä½ åªéœ€è¦ç»™äºˆå…¶æ–°çš„ç‰¹å¾è¯†åˆ«åº“å³å¯ç”¨äºæ–°å£³çš„æ£€æµ‹. ä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨PEiD å¿«é€Ÿé‰´å®šä¸€ä¸ªç¨‹åºæ˜¯å¦æ­£å¸¸? å®ƒçš„å…¥å£ç‚¹æ˜¯ä»€ä¹ˆ? ç”¨ä»€ä¹ˆå·¥å…·å¼€å‘çš„ æ˜¯å¦è¢«åŠ äº†å·²çŸ¥å£³? æŸ¥çœ‹å®ƒçš„åæ±‡ç¼–ä»£ç  PEå¤´ç»“æ„ è„±ç®€æ˜“çš„å£³ä½¿ç”¨å›¾ä¸­çº¢è‰²æ–¹æ¡†ä¸­çš„å†…å®¹è¡¨ç¤ºæ–‡ä»¶ç”¨ä»€ä¹ˆè½¯ä»¶ç¼–å†™çš„ï¼Œæˆ–è€…ç”¨ä»€ä¹ˆè½¯ä»¶åŠ å£³ã€‚è¿™é‡Œè¡¨ç¤ºæ˜¯ç”¨C#ç¼–å†™çš„ã€‚å¦‚æœæ˜¯æœªçŸ¥è½¯ä»¶ï¼Œç‚¹å‡»çº¢è‰²æ–¹æ¡†å¯ä»¥æ˜¾ç¤ºæœ‰æ²¡æœ‰åŠ å£³ï¼Œå…·ä½“ä¿¡æ¯éœ€è¦ç‚¹å‡»å¼¹å‡ºæ¡†ä¸­çš„ç»¿è‰²æ¡†ä¸­çš„æŒ‰é’®ã€‚]]></content>
      <categories>
        <category>é€†å‘_å·¥å…·</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€†å‘ç¬”è®°]]></title>
    <url>%2F2018%2F12%2F13%2Fre-notes%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç½‘ç«™CTF WikiJarvis OJSUCTF å¸¸è§„é€†å‘æµç¨‹1.ä½¿ç”¨strings/file/binwalk/IDAç­‰é™æ€åˆ†æå·¥å…·æ”¶é›†ä¿¡æ¯ï¼Œå¹¶æ ¹æ®è¿™äº›é™æ€ä¿¡æ¯è¿›è¡Œgoogle/githubæœç´¢2.ç ”ç©¶ç¨‹åºçš„ä¿æŠ¤æ–¹æ³•ï¼Œå¦‚ä»£ç æ··æ·†ï¼Œä¿æŠ¤å£³åŠåè°ƒè¯•ç­‰æŠ€æœ¯ï¼Œå¹¶è®¾æ³•ç ´é™¤æˆ–ç»•è¿‡ä¿æŠ¤3.åæ±‡ç¼–ç›®æ ‡è½¯ä»¶ï¼Œå¿«é€Ÿå®šä½åˆ°å…³é”®ä»£ç è¿›è¡Œåˆ†æ4.ç»“åˆåŠ¨æ€è°ƒè¯•ï¼ŒéªŒè¯è‡ªå·±çš„åˆæœŸçŒœæƒ³ï¼Œåœ¨åˆ†æçš„è¿‡ç¨‹ä¸­ç†æ¸…ç¨‹åºåŠŸèƒ½5.é’ˆå¯¹ç¨‹åºåŠŸèƒ½ï¼Œå†™å‡ºå¯¹åº”è„šæœ¬ï¼Œæ±‚è§£å‡º flag CTFé€†å‘ä¸­é€šå¸¸å‡ºç°çš„åŠ å¯†ç®—æ³•Base64å°† 3 å­—èŠ‚çš„æ•°æ®ï¼Œå…ˆåæ”¾å…¥ä¸€ä¸ª 24 ä½çš„ç¼“å†²åŒºä¸­ï¼Œå…ˆæ¥çš„å­—èŠ‚å é«˜ä½ã€‚æ•°æ®ä¸è¶³ 3 å­—èŠ‚çš„è¯ï¼Œäºç¼“å†²å™¨ä¸­å‰©ä¸‹çš„æ¯”ç‰¹ç”¨ 0 è¡¥è¶³ã€‚æ¯æ¬¡å–å‡º 6 æ¯”ç‰¹ï¼ŒæŒ‰ç…§å…¶å€¼é€‰æ‹©ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ä¸­çš„å­—ç¬¦ä½œä¸ºç¼–ç åçš„è¾“å‡ºï¼Œç›´åˆ°å…¨éƒ¨è¾“å…¥æ•°æ®è½¬æ¢å®Œæˆã€‚é€šå¸¸è€Œè¨€ Base64 çš„è¯†åˆ«ç‰¹å¾ä¸ºç´¢å¼•è¡¨ï¼Œå½“æˆ‘ä»¬èƒ½æ‰¾åˆ°ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/è¿™æ ·ç´¢å¼•è¡¨ï¼Œå†ç»è¿‡ç®€å•çš„åˆ†æåŸºæœ¬å°±èƒ½åˆ¤å®šæ˜¯ Base64 ç¼–ç ã€‚æœ‰äº›é¢˜ç›® base64 çš„ç´¢å¼•è¡¨æ˜¯ä¼šå˜çš„ï¼Œä¸€äº›å˜ç§çš„ base64 ä¸»è¦ å°±æ˜¯ä¿®æ”¹äº†è¿™ä¸ªç´¢å¼•è¡¨ã€‚ Tea(Tiny Encryption Algorithmå¾®å‹åŠ å¯†ç®—æ³•)æ˜¯ä¸€ä¸ªç®€å•çš„åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œä½¿ç”¨Feistelç»“æ„è¿›è¡ŒåŠ å¯†ã€‚æ¯æ¬¡åŠ å¯†64ä½ï¼Œå¯†é’¥é•¿åº¦ä¸º128ä½ï¼Œæ¨èè¿­ä»£æ¬¡æ•°ä¸º64.åœ¨ Tea ç®—æ³•ä¸­å…¶æœ€ä¸»è¦çš„è¯†åˆ«ç‰¹å¾å°±æ˜¯ æ‹¥æœ‰ä¸€ä¸ª image number ï¼š0x9e3779b9ï¼Œæœ‰äº›ç¼–ç¨‹äººå‘˜ä¸ºäº†é¿å…åœ¨ç¨‹åºä¸­ç›´æ¥å‡ºç°â€mov å˜é‡ï¼Œ0x9e3779bâ€ï¼Œä»¥å…è¢«ç ´è§£è€…ç›´æ¥æœç´¢0x9e3779bè¿™ä¸ªå¸¸æ•°å¾—çŸ¥ä½¿ç”¨TEAç®—æ³•ï¼Œæ‰€ä»¥æœ‰æ—¶ä¼šä½¿ç”¨â€sub å˜é‡ï¼Œ0x61C88647â€œä»£æ›¿â€mov å˜é‡ï¼Œ0x9e3779bâ€ï¼Œ0x61C88647=ï¼(0x9e3779b)ã€‚æœ€åˆçš„Teaç®—æ³•å·²ç»è¢«ç ´è§£ï¼Œå¢åŠ äº†è®¸å¤šå˜ç§å½¢å¼ï¼Œæ¯”å¦‚è¯´XTea,XxTeaâ€¦ RC4æµåŠ å¯†ç®—æ³•MD5é²œæ˜æ ‡è¯†ï¼š1234h0 = 0x67452301;h1 = 0xefcdab89;h2 = 0x98badcfe;h3 = 0x10325476; è™šæ‹ŸæœºæŒ‡ä»¤Unicornå¼•æ“Unicorn æ˜¯ä¸€ä¸ªè½»é‡çº§, å¤šå¹³å°, å¤šæ¶æ„çš„ CPU æ¨¡æ‹Ÿå™¨æ¡†æ¶. æˆ‘ä»¬å¯ä»¥å°†å…¶åº”ç”¨äºè¿™äº›æƒ…æ™¯: æ¯”å¦‚æˆ‘ä»¬å•çº¯åªæ˜¯éœ€è¦æ¨¡æ‹Ÿä»£ç çš„æ‰§è¡Œè€Œééœ€è¦ä¸€ä¸ªçœŸçš„ CPU å»å®Œæˆé‚£äº›æ“ä½œ, åˆæˆ–è€…æƒ³è¦æ›´å®‰å…¨åœ°åˆ†ææ¶æ„ä»£ç , æ£€æµ‹ç—…æ¯’ç‰¹å¾, æˆ–è€…æƒ³è¦åœ¨é€†å‘è¿‡ç¨‹ä¸­éªŒè¯æŸäº›ä»£ç çš„å«ä¹‰.ä¸€ä¸ªç®€å•çš„ä¾‹å­å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738from __future__ import print_functionfrom unicorn import *from unicorn.x86_const import *# code to be emulatedX86_CODE32 = b"\x41\x4a" # INC ecx; DEC edx# memory address where emulation startsADDRESS = 0x1000000print("Emulate i386 code")try: # Initialize emulator in X86-32bit mode mu = Uc(UC_ARCH_X86, UC_MODE_32) # map 2MB memory for this emulation mu.mem_map(ADDRESS, 2 * 1024 * 1024) # write machine code to be emulated to memory mu.mem_write(ADDRESS, X86_CODE32) # initialize machine registers mu.reg_write(UC_X86_REG_ECX, 0x1234) mu.reg_write(UC_X86_REG_EDX, 0x7890) # emulate code in infinite time &amp; unlimited instructions mu.emu_start(ADDRESS, ADDRESS + len(X86_CODE32)) # now print out some registers print("Emulation done. Below is the CPU context") r_ecx = mu.reg_read(UC_X86_REG_ECX) r_edx = mu.reg_read(UC_X86_REG_EDX) print("&gt;&gt;&gt; ECX = 0x%x" %r_ecx) print("&gt;&gt;&gt; EDX = 0x%x" %r_edx)except UcError as e: print("ERROR: %s" % e) æ›´å¤šç¤ºä¾‹ä»£ç  IDAå¿«æ·é”®Shift + F12 å­—ç¬¦ä¸²æŸ¥æ‰¾]]></content>
      <categories>
        <category>é€†å‘_å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>é€†å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pwnå­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2018%2F12%2F13%2Fpwn-note%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç½‘ç«™CTF WikiJarvis OJSUCTFpwnable.twpwnable.kr æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯32ä½ç³»ç»Ÿè¿˜æ˜¯64ä½ç³»ç»Ÿ1file filename æŸ¥çœ‹æ–‡ä»¶ç”¨äº†å“ªäº›ä¿æŠ¤æœºåˆ¶12gdb filename(gdb) checksec å„ç§ä¿æŠ¤æœºåˆ¶çš„ä½œç”¨Cannary: æ ˆæº¢å‡ºä¿æŠ¤ï¼Œç”¨æ¥ç¼“è§£ç¼“å†²åŒºæº¢å‡ºæ”»å‡»ï¼Œå½“å¯ç”¨æ ˆä¿æŠ¤ä»¥åï¼Œå‡½æ•°å¼€å§‹æ‰§è¡Œæ—¶ä¼šå…ˆåœ¨æ ˆé‡Œé¢æ’å…¥cookieä¿¡æ¯ï¼Œå½“å‡½æ•°çœŸæ­£çš„è¿”å›çš„æ—¶å€™ä¼šéªŒè¯cookieä¿¡æ¯æ˜¯å¦åˆæ³•ï¼Œå¦‚æœä¸åˆæ³•å°±åœæ­¢è¿è¡Œç¨‹åºFortify: ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢ç¼“å†²åŒºæº¢å‡ºæ”»å‡»NX(Windowså¹³å°ç§°å…¶ä¸ºDEP): ä¸å¯æ‰§è¡Œï¼Œå°†æ•°æ®æ‰€åœ¨çš„å†…é¡µæ ‡è®°ä¸ºä¸å¯æ‰§è¡Œï¼Œå¦‚æœç¨‹åºæº¢å‡ºæˆåŠŸè½¬å…¥shellcodeæ—¶ï¼Œç¨‹åºä¼šå°è¯•åœ¨æ•°æ®é¡µé¢ä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼Œæ­¤æ—¶CPUå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸ä¼šæ‰§è¡Œæ¶æ„æŒ‡ä»¤ã€‚PIE(ASLR): ASLR:åœ°å€éšæœºåŒ–ã€‚PIE:Position Independent Executablesä½ç½®ç‹¬ç«‹çš„å¯æ‰§è¡ŒåŒºåŸŸã€‚ äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å‡½æ•°æŸ¥æ‰¾1readelf -a libc-2.19.so | grep &quot;system&quot; äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²æŸ¥æ‰¾1strings -a -t x libc-2.19.so | grep &quot;/bin/sh&quot; pwndbgå·¥å…·åœ¨dockerä¸­çš„ä½¿ç”¨docker run -it \â€”rm \-h ${ctf_name} \â€”name ${ctf_name} \-v $(pwd)/${ctf_name}:/ctf/work \-p 23946:23946 \â€”cap-add=SYS_PTRACE \skysider/pwndocker docker run -it \â€”rm \-h ${oyente} \â€”name ${oyente} \-v $(pwd)/${oyente}:/oyente/oyente \-p 23946:23946 \â€”cap-add=SYS_PTRACE \luongnguyen/oyente]]></content>
      <categories>
        <category>pwn</category>
      </categories>
      <tags>
        <tag>pwn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu:16.04 dockerå®‰è£…]]></title>
    <url>%2F2018%2F12%2F13%2Fdocker-install%2F</url>
    <content type="text"><![CDATA[å¸è½½æ—§çš„ç‰ˆæœ¬123sudo apt-get remove docker \ docker-engine \ docker.io ä½¿ç”¨APTå®‰è£…æ·»åŠ ä½¿ç”¨ HTTPS ä¼ è¾“çš„è½¯ä»¶åŒ…ä»¥åŠ CA è¯ä¹¦1234567sudo apt-get updatesudo apt-get install \ apt-transport-https \ ca-certificates \ curl \ software-properties-common ä¸ºäº†ç¡®è®¤æ‰€ä¸‹è½½è½¯ä»¶åŒ…çš„åˆæ³•æ€§ï¼Œéœ€è¦æ·»åŠ è½¯ä»¶æºçš„ GPG å¯†é’¥1curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg | sudo apt-key add - å‘ source.list ä¸­æ·»åŠ  Docker è½¯ä»¶æº1234sudo add-apt-repository \ &quot;deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \ $(lsb_release -cs) \ stable&quot; å®‰è£…Docker CE12sudo apt-get updatesudo apt-get install -y docker-ce å»ºç«‹Dockerç”¨æˆ·ç»„å»ºç«‹Dockerç»„1sudo groupadd docker å½“å‰ç”¨æˆ·åŠ å…¥Dockerç»„1sudo usermod -aG docker $USER å¯åŠ¨Docker CE12sudo systemctl enable dockersudo systemctl start docker è¿›è¡Œå¦‚ä¸‹æµ‹è¯•123456docker run hello-worldUnable to find image &apos;hello-world:latest&apos; locallylatest: Pulling from library/hello-worldca4f61b1923c: Pull complete... é•œåƒåŠ é€Ÿé…ç½®å›½å†…ä» Docker Hub æ‹‰å–é•œåƒæœ‰æ—¶ä¼šé‡åˆ°å›°éš¾ï¼Œæ­¤æ—¶å¯ä»¥é…ç½®é•œåƒåŠ é€Ÿå™¨ã€‚Docker å®˜æ–¹å’Œå›½å†…å¾ˆå¤šäº‘æœåŠ¡å•†éƒ½æä¾›äº†å›½å†…åŠ é€Ÿå™¨æœåŠ¡ï¼Œä¾‹å¦‚: Docker å®˜æ–¹æä¾›çš„ä¸­å›½ registry mirror https://registry.docker-cn.com ä¸ƒç‰›äº‘åŠ é€Ÿå™¨ https://reg-mirror.qiniu.com/ ä¿®æ”¹/etc/docker/daemon.jsonæ–‡ä»¶sudo gedit /etc/docker/daemon.jsonæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š12345&#123; &quot;registry-mirrors&quot;: [ &quot;https://registry.docker-cn.com&quot; ]&#125; é‡æ–°å¯åŠ¨æœåŠ¡12sudo systemctl daemon-reloadsudo systemctl restart docker Docker: Got permission deniedé—®é¢˜æè¿°12345678910docker versionClient: Version: 18.06.1-ce API version: 1.38 Go version: go1.10.4 Git commit: e68fc7a Built: Mon Oct 1 14:25:31 2018 OS/Arch: linux/amd64 Experimental: falseGot permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.38/version: dial unix /var/run/docker.sock: connect: permission denied è§£å†³æ–¹æ¡ˆ1sudo chmod 666 /var/run/docker.sock Docker: error with docker stop/killé—®é¢˜æè¿°123$sudo docker kill webserverError response from daemon: Cannot kill container: webserver: Cannot kill container 0e06fdc024071aeb655a04fc12baa51cac09c2b1ab2139d810b27e1cdf4f967e: unknown error after kill: docker-runc did not terminate sucessfully: container_linux.go:393: signaling init process caused &quot;permission denied&quot;: unknown è§£å†³æ–¹æ¡ˆCheck status: sudo aa-statusShutdown and prevent it from restarting: sudo systemctl disable apparmor.service --nowUnload AppArmor profiles: sudo service apparmor teardownCheck status: sudo aa-statusAppArmorå’ŒSELinuxéƒ½ç”¨äºLiunxçš„å¼ºåˆ¶è®¿é—®æ§åˆ¶(MAC)]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ZEUS:Analyzing Safety of Smart Contracts]]></title>
    <url>%2F2018%2F12%2F11%2Fzeus%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ä¸€ä¸ªæ™ºèƒ½åˆçº¦æ— è®ºå æœ‰å¤šå°‘èµ„é‡‘åœ¨éƒ¨ç½²å®Œæˆä»¥åå¾ˆéš¾å†ä¿®è¡¥æ¼æ´ã€‚æœ€è¿‘ä¸€ä¸ªæ¼æ´å¯¼è‡´è¿‘äº”åƒä¸‡ç¾å…ƒçš„åŠ å¯†è´§å¸æŸå¤±ã€‚æˆ‘ä»¬è®¾è®¡äº†éªŒè¯æ™ºèƒ½åˆçº¦æ­£ç¡®æ€§å’Œå…¬å¹³æ€§çš„æ¡†æ¶â€”ZEUSã€‚æ­£ç¡®æ€§æŒ‡ç¬¦åˆç¨‹åºå®‰å…¨è§„åˆ™ï¼Œå…¬å¹³æ€§æŒ‡ç¬¦åˆé«˜çº§å•†ä¸šé€»è¾‘ã€‚ZEUSåˆ©ç”¨æŠ½è±¡è§£é‡Šå’Œç¬¦å·æ‰§è¡Œæ–¹æ³•è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶ä¸”ä½¿ç”¨äº†çº¦æŸè§’æ¡æ¬¾æ¥å¿«é€ŸéªŒè¯åˆçº¦çš„å®‰å…¨ã€‚æˆ‘ä»¬åŸºäºä»¥å¤ªåŠå’Œè¶…çº§è´¦æœ¬å¹³å°æ„å»ºäº†ZEUSï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒè¯„ä¼°äº†è¶…è¿‡22.4Kçš„åˆçº¦ã€‚æˆ‘ä»¬çš„è¯„ä¼°è¡¨æ˜ï¼Œè¶…è¿‡94.6%çš„åˆçº¦(æŒæœ‰åŠ å¯†è´§å¸ä»·å€¼è¶…è¿‡5äº¿)æ˜¯æœ‰æ¼æ´çš„ã€‚ZEUSæœ‰é›¶æ¼æŠ¥ç‡å’Œä½è¯¯æŠ¥ç‡ï¼Œå¹¶ä¸”ä¸ç°æœ‰æŠ€æœ¯ç›¸æ¯”ç ”ç©¶åˆ†ææ—¶é—´ä¸Šæœ‰ä¸€ä¸ªæ•°é‡çº§çš„æ”¹è¿›ã€‚Constrained Horn Clause(CHC) verficationçº¦æŸè§’æ¡æ¬¾éªŒè¯ CHCæ˜¯ç”¨æ¥è¡¨ç¤ºç¨‹åºè¡Œä¸ºçš„ä¸­é—´è¯­è¨€ï¼Œå¯ä»¥ç”¨æ¥è§£é‡Šå‘½ä»¤å¼ã€åŠŸèƒ½å¼ã€å¹¶å‘å¼çš„è¯­è¨€ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è§£é‡ŠçŠ¶æ€æœºã€äº¤æ˜“ç³»ç»Ÿã€é©¬å°”ç§‘å¤«é“¾ç­‰è®¡ç®—æ¨¡å‹ã€‚æˆåŠŸæ¡ˆä¾‹ï¼šWindowsè®¾å¤‡é©±åŠ¨éªŒè¯ç°æœ‰å·¥å…·ï¼šZ3ã€QARMC(CEGARâ€”Counter Example Guided Abstraction Refinement)ã€TRACERã€VeriMAP(specialisation) ä»‹ç»åŒºå—é“¾æ˜¯å·©å›ºæ¯”ç‰¹å¸ç­‰åŠ å¯†è´§å¸çš„è®¾è®¡æ¨¡å¼ã€‚å®ƒä½¿ç”¨å…±è¯†ç®—æ³•æ¥ä¿è¯äº’ä¸ä¿¡ä»»çš„èŠ‚ç‚¹åœ¨æ— å¯è¡Œç¬¬ä¸‰æ–¹çš„å‚ä¸ä¸‹è¿›è¡Œå¯éªŒè¯äº¤æ˜“ã€‚å®ƒçš„åº”ç”¨ä½¿å¾—æ™ºèƒ½åˆçº¦å¯ä»¥ä½¿ç”¨ç¨‹åºæ€§çš„ç¼–ç è§„åˆ™åæ˜ ä»»æ„å¤šæ–¹äº¤æ˜“ã€‚å»å¹´åŒºå—é“¾æŠ•èµ„è¶…è¿‡14äº¿ç¾å…ƒï¼Œè€Œä¸”è‡ªä¸»åº”ç”¨çš„å¢åŠ è¶‹åŠ¿ä½¿å¾—æ™ºèƒ½åˆçº¦æ­£è¿…é€Ÿæˆä¸ºå®æ–½é‡‘èå·¥å…·çš„é¦–é€‰æ‰‹æ®µ(æ¯”å¦‚è¯´:è´§å¸ã€è¡ç”Ÿå“ã€é’±åŒ…ç­‰)è¿˜æœ‰å»ä¸­æ€§åŒ–çš„èµŒåšåº”ç”¨ã€‚å…±è¯†æœºåˆ¶ä½¿å¾—æ™ºèƒ½åˆçº¦å¿ å®æ‰§è¡Œï¼Œå‚ä¸æ–¹çš„ç‰¹æƒæœ‰ï¼š1.éªŒè¯æ™ºèƒ½åˆçº¦çš„æ­£ç¡®æ€§,ie:å¥æ³•å®ç°æ»¡è¶³æœ€ä½³ç¼–ç¨‹å®è·µ;2.éªŒè¯æ™ºèƒ½åˆçº¦çš„å…¬å¹³æ€§,ie:ç¨‹åºæ»¡è¶³é«˜å±‚æ¬¡çš„å•†ä¸šäº¤æ˜“é€»è¾‘.è™½ç„¶äººå·¥å®¡è®¡æ™ºèƒ½åˆçº¦çš„æ­£ç¡®æ€§åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯å¯èƒ½çš„ï¼Œä½†æ˜¯å®ƒå®¹æ˜“å‡ºé”™ã€‚ä½†å¦ä¸€æ–¹é¢ï¼Œè‡ªåŠ¨æ­£å¼å®¡è®¡éœ€è¦ç‰¹å®šçš„å·¥å…·å’Œé€»è¾‘ã€‚è€Œä¸”æ™ºèƒ½åˆçº¦ä¸åƒå…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿä»£ç ä¸€æ ·ï¼Œæ— è®ºå®ƒæŒæœ‰å¤šå°‘é‡‘é¢ï¼Œå®ƒéƒ½ä¸å¯ç¯¡æ”¹å¹¶ä¸”éš¾ä»¥ä¿®è¡¥ï¼Œè¿™ä½¿å¾—é—®é¢˜è¿›ä¸€æ­¥åŠ å‰§ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒTheDAOçš„æŠ•èµ„è€…æŸå¤±äº†å°†è¿‘5åƒä¸‡ç¾å…ƒçš„åŠ å¯†è´§å¸ï¼Œå› ä¸ºç¨‹åºæ¼æ´å…è®¸æ”»å‡»è€…ä¸æ–­è™¹å¸èµ„é‡‘ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è·Ÿè¸ªäº†æ™ºèƒ½åˆçº¦çš„æ­£å¼éªŒè¯é—®é¢˜ï¼Œåœ¨éƒ¨ç½²ä¹‹å‰éªŒè¯å…¶æ­£ç¡®æ€§å’Œå…¬å¹³æ€§è‡³å…³é‡è¦ã€‚1234567891011while (Balance &gt; (depositors[index].Amount * 115/100) &amp;&amp; index &lt; Total_Investors) &#123; if(depositors[index].Amount!=0) &#123; payment = depositors[index].Amount * 115/100; depositors[index].EtherAddress.send(payment); Balance -= payment; Total_Paid_Out += payment; depositors[index].Amount = 0; //remove investor &#125; break;&#125; ä¸Šè¿°æ™ºèƒ½åˆçº¦å‘ä»»ä½•æŠ•èµ„è€…æä¾›15%çš„åˆ©æ¶¦ï¼Œä½†æ˜¯å®ƒåŒæ—¶å­˜åœ¨æ­£ç¡®æ€§å’Œå…¬å¹³æ€§çš„é—®é¢˜ã€‚ç¬¬ä¸€ï¼Œç¬¬å…­è¡Œçš„ç®—æœ¯è®¡ç®—å¯èƒ½å‘ç”Ÿæº¢å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªæ­£ç¡®æ€§çš„æ¼æ´ï¼›ç¬¬äºŒï¼Œå˜é‡indexåœ¨å¾ªç¯ä¸­ä»æ¥éƒ½æ²¡æœ‰å¢åŠ è¿‡ï¼Œæ‰€ä»¥å›æŠ¥ä»…ä»…ç»™äº†ä¸€ä¸ªæŠ•èµ„è€…ï¼›æœ€åï¼Œbreakè¯­å¥åœ¨ä»˜æ¬¾ç»™ç¬¬ä¸€ä¸ªæŠ•èµ„è€…(æ™ºèƒ½åˆçº¦éƒ¨ç½²è€…)åæ‰§è¡Œç›´æ¥ç»ˆæ­¢å¾ªç¯ï¼Œæ‰€ä»¥è¯¥åˆçº¦å¹¶ä¸å¿è¿˜ä»»æ„å…¶ä»–çš„æŠ•èµ„è€…ï¼Œåä¸¤ä¸ªæ¼æ´å¯¼è‡´äº†å…¬å¹³æ€§çš„é—®é¢˜ã€‚å¤§å¤šæ•°æ™ºèƒ½åˆçº¦é¢†åŸŸçš„ç°æœ‰æŠ€æœ¯æ—¨åœ¨å¤„ç†å®‰å…¨æ€§å’Œè®¾è®¡æ—¶çš„éšç§é—®é¢˜ï¼Œå¾ˆå°‘ç ”ç©¶æ™ºèƒ½åˆçº¦çš„ç¼ºé™·.Oyenteåœ¨å­—èŠ‚ç å±‚æ¬¡ä¸Šä½¿ç”¨ç¬¦å·æ‰§è¡Œæ¥æ£€æµ‹æ¼æ´ï¼Œä½†ä»–æ—¢ä¸å…¼å®¹ä¹Ÿä¸å¥å…¨ã€‚å°±åƒæˆ‘ä»¬è§‚å¯Ÿå’Œä¸Oyenteå¼€å‘äººå‘˜æ²Ÿé€šè¿‡çš„é‚£æ ·ï¼Œå³ä½¿åœ¨ä¸€äº›å¾®ä¸è¶³é“çš„åˆçº¦ä¸­ä¹Ÿä¼šå‡ºç°å¾ˆå¤šè¯¯æŠ¥ã€‚å› ä¸ºä»…ä¾é å­—èŠ‚ç å¾ˆéš¾æ¢å¤ä½œè€…æ„å›¾(å› ä¸ºç¼ºå°‘ä¸Šä¸‹æ–‡ä¿¡æ¯:åŒ…å«ç±»å‹ã€ä¸åŒçš„å‡½æ•°è°ƒç”¨é‡ç”¨ç›¸åŒçš„å­—èŠ‚ç ç­‰)å¾ˆå¤šå…¬å¹³æ€§å’Œæ­£ç¡®æ€§çš„é—®é¢˜ï¼ŒåŒ…å«æ•´æ•°ä¸Šæº¢å’Œä¸‹æº¢è¿˜æœ‰å…¶ä»–çš„ï¼Œéƒ½è¢«Oyenteå¿½ç•¥äº†ã€‚æ›´è¿‘ä¸€æ­¥ï¼Œå®ƒä¿å®ˆåœ°å¤„ç†å¾ªç¯ï¼Œå¯¼è‡´ä½ä¼°äº†å¾ªç¯è¡Œä¸ºï¼Œæ‰€ä»¥ä¼šå¿½ç•¥ä»£ç 1ä¸­çš„ä¸¤ä¸ªå…¬å¹³æ€§çš„æ¼æ´ã€‚Bhargavanæå‡ºäº†ä¸€ä¸ªæ¡†æ¶F*æ¥æ­£å¼éªŒè¯Solidityç¼–å†™çš„æ™ºèƒ½åˆçº¦ï¼Œå®ƒå¿½è§†äº†ä¸€äº›ç»“æ„ï¼Œæ¯”å¦‚è¯´å¾ªç¯ã€‚è€ƒè™‘åˆ°æˆ‘ä»¬åˆ†æçš„22493ä¸ªåˆçº¦ï¼Œå°†è¿‘93%çš„æ™ºèƒ½åˆçº¦åŒ…å«å¾ªç¯ã€‚æ‰€ä»¥ä»–ä»¬çš„å·¥å…·åªèƒ½åœ¨ä¸€å°éƒ¨åˆ†çš„å…¬å¼€åˆçº¦ä¸Šä½¿ç”¨ï¼Œä»–ä»¬çš„ç»“æœå¯¹è¿™ä¸€ç‚¹ä¹Ÿè¿›è¡Œäº†è®ºè¯ï¼Œåœ¨396ä¸ªåˆçº¦ä¸­ä»–ä»¬åªèƒ½åˆ†æå…¶ä¸­46ä¸ªã€‚ä½†æ˜¯ä½¿ç”¨F*å¯ä»¥æ¨ç†å¤§å¤šæ•°æ­£ç¡®æ€§å’Œå…¬å¹³æ€§çš„å±æ€§ï¼Œå®ƒçš„ä½œè€…å»ºè®®å¯¹è¿™ç§æ¨ç†ä½¿ç”¨æ‰‹å·¥è¯æ˜ï¼Œè™½ç„¶è¿˜ä¸æ¸…æ¥šè¿™ç§æƒ…å†µä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªå¤§è§„æ¨¡çš„è‡ªåŠ¨éªŒè¯ã€‚Why3æ˜¯ä¸€ä¸ªæ­£å¼éªŒè¯Solidityåˆçº¦å¯é æ€§çš„å®éªŒå·¥å…·ï¼Œå®ƒæ­£å¤„äºå¼€å‘ä¸­å¹¶ä¸”ä»…æ”¯æŒå°‘éƒ¨åˆ†çš„è¯­æ³•ã€‚æ›´è¿›ä¸€æ­¥ï¼ŒSolidityåˆ°Why3çš„ç¿»è¯‘æ²¡æœ‰ç»è¿‡æµ‹è¯•ä¹Ÿä¸å¯ä¿¡ã€‚æˆ‘ä»¬æå‡ºäº†ZEUSçš„è®¾è®¡å’Œå®ç°â€”ä½¿ç”¨æŠ½è±¡è§£é‡Šå’Œç¬¦å·æ‰§è¡Œæ¥è‡ªåŠ¨åŒ–æ­£å¼éªŒè¯æ™ºèƒ½åˆçº¦çš„å®è·µæ¡†æ¶ã€‚ZEUSä½¿ç”¨é«˜çº§è¯­è¨€ç¼–å†™çš„æ™ºèƒ½åˆçº¦ä½œä¸ºè¾“å…¥ï¼Œå®ƒåˆ©ç”¨ç”¨æˆ·å¸®åŠ©æ¥ç”Ÿæˆä¸€ä¸ªXACMLæ¨¡æ¿é£æ ¼çš„æ­£ç¡®æ€§å’Œå…¬å¹³æ€§çš„æ ‡å‡†ã€‚å®ƒå°†è¿™äº›åˆçº¦å’Œç‰¹å®šçš„å‡†åˆ™ç¿»è¯‘æˆä¸€ä¸ªä½çº§çš„ä¸­é—´è¡¨ç¤ºï¼Œæ¯”å¦‚è¯´LLVMå­—èŠ‚ç ï¼Œå¯¹æ‰§è¡Œè¯­ä¹‰è¿›è¡Œç¼–ç ä»¥æ­£ç¡®æ¨æ–­åˆçº¦è¡Œä¸ºã€‚ç„¶ååœ¨ä¸­é—´ä»£ç ä¸Šè¿›è¡Œé™æ€åˆ†æä»¥ç¡®å®šå¿…é¡»å£°æ˜éªŒè¯çš„è°“è¯ã€‚æœ€åZEUSå°†ä¿®æ”¹åçš„IRæ”¾å…¥éªŒè¯å¼•æ“ä¸­ï¼ŒéªŒè¯å¼•æ“ä½¿ç”¨CHCsæ¥å¿«é€ŸéªŒè¯æ™ºèƒ½åˆçº¦çš„å®‰å…¨æ€§ã€‚ZEUSåˆ©ç”¨ä¸‰ä¸ªä¸»è¦çš„è§‚å¯ŸæŒ‡æ ‡æ¥ä¿è¯ç¨³å®šæ€§å’Œå¯é æ€§ã€‚ç¬¬ä¸€ï¼Œè™½ç„¶åŒºå—é“¾çš„æ‰§è¡Œç±»ä¼¼äºåŸºäºä»»åŠ¡è¯­ä¹‰çš„å¹¶å‘ç³»ç»Ÿï¼Œä¸€ä¸ªäº¤æ˜“åªèƒ½ä»ä¸€ä¸ªæ™ºèƒ½åˆçº¦å…¬å¼€å‡½æ•°è°ƒç”¨å¼€å§‹ã€‚è¿™ç§å±æ€§å¤§å¤§å‡å°‘äº†éªŒè¯å¤§å¤šæ•°å±æ€§çš„çŠ¶æ€ç©ºé—´æ¢ç´¢ã€‚è€Œä¸”ï¼Œäº¤æ˜“ä¹‹é—´çš„æ•°æ®ä¾èµ–æ¯”å¦‚è¯´åœ¨æŒç»­å˜é‡ä¹‹é—´çš„è¯»å†™ä¾èµ–è¦æ±‚åˆ†æO(n^2)å¯¹äº‹åŠ¡äº¤é”™ã€‚ç¬¬äºŒï¼Œæ™ºèƒ½åˆçº¦æ˜¯æ§åˆ¶æµå’Œæ•°æ®æµé©±ä½¿çš„ï¼Œæ‰€ä»¥ä½¿ç”¨æŠ½è±¡è§£é‡Šå’Œç¬¦å·æ¨¡å‹å¯¹æ™ºèƒ½åˆçº¦å»ºæ¨¡å…è®¸ZEUSå¯é çš„æ¨æµ‹ç¨‹åºè¡Œä¸ºã€‚æŠ½è±¡è§£é‡Šè®¡ç®—æ•°æ®åŸŸä¸Šçš„å¾ªç¯å’Œå‡½æ•°æ‘˜è¦ï¼Œç„¶ååœ¨æ¨¡å‹æ£€æŸ¥é˜¶æ®µä½¿ç”¨è¿™äº›å¾ªç¯å’Œå‡½æ•°æ‘˜è¦ï¼Œå‡å°‘æ¨¡å‹æ£€æŸ¥é˜¶æ®µæ“ä½œçš„çŠ¶æ€ç©ºé—´ã€‚æœ€åï¼ŒCHCsæä¾›ä¸€ä¸ªåˆé€‚çš„æœºåˆ¶æ¥è¡¨ç¤ºéªŒè¯æ¡ä»¶ï¼Œå®ƒå¯ä»¥è¢«SMTæ±‚è§£å™¨æœ‰æ•ˆåœ°é‡Šæ”¾ã€‚SMT solver(Satisfiability modulo theories)å¯æ»¡è¶³æ¨¡ç†è®ºæ±‚è§£å™¨ SATâ€”å¸ƒå°”å¯æ»¡è¶³æ€§æ±‚è§£å™¨ã€‚ç”¨äºæ±‚è§£ç­‰å¼ç³»ç»Ÿï¼Œä¸åŒçš„æ˜¯ï¼ŒSMTæ¥å—ä¸åŒæ ¼å¼çš„ç­‰å¼ç³»ç»Ÿï¼Œè€ŒSATå¯¹è¾“å…¥æ ¼å¼æ˜¯æœ‰è¦æ±‚çš„ï¼Œå¿…é¡»æ˜¯CNFèŒƒå¼çš„å¸ƒå°”ç­‰å¼ã€‚ç”¨äºå½¢å¼åŒ–éªŒè¯ XACML(eXtensible Access Control Markup Languageå¯æ‰©å±•è®¿é—®æ§åˆ¶æ ‡è®°è¯­è¨€) æ˜¯ä¸€ä¸ªå®šä¹‰ç”¨äºè®¿é—®æ§åˆ¶çš„ä½“ç³»ç»“æ„å’Œè¯­è¨€ï¼Œè¯­è¨€ç”±å“åº”ã€å›å¤å’ŒPolicyç»„æˆï¼Œå®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œè¯¢é—®ä¸€ä¸ªç‰¹å®šçš„åŠ¨ä½œæ˜¯å¦å¯ä»¥è¢«å…è®¸æ‰§è¡Œã€‚æœåŠ¡å™¨ä½¿ç”¨å·²æœ‰çš„Policyå¯¹è¯·æ±‚è¿›è¡Œè¯„ä¼°ï¼Œç„¶åè¿›è¡Œå›å¤ã€‚è¿™äº›Policyå®ç°äº†ç»„ç»‡çš„è®¿é—®æ§åˆ¶è¯·æ±‚ã€‚ ZEUSåŸºäºLLVMå­—èŠ‚ç åšéªŒè¯ä¹Ÿæ”¶ç›Šè‰¯å¤šï¼Œä¸ä»…ä»…æ˜¯å› ä¸ºZEUSå¯ä»¥ä½¿ç”¨ä¸€ä¸ªäº§ä¸šåŒ–çš„å·¥å…·é“¾åšåˆ†æï¼Œå®ƒè¿˜å…è®¸ZEUSåœ¨æ ‡å‡†åŒ–çš„LLVMå­—èŠ‚ç ä¸Šæ’å…¥ä»»æ„éªŒè¯å™¨ï¼Œä½¿ç”¨LLVMå­—èŠ‚ç è¿˜å¸®åŠ©ZEUSéªŒè¯ä¸åŒåŒºå—é“¾å¹³å°çš„æ™ºèƒ½åˆçº¦ï¼ŒåŒ…å«ä»¥å¤ªåŠã€è¶…çº§è´¦æœ¬ï¼Œä½¿ç”¨ä¸åŒé«˜çº§è¯­è¨€ç¼–å†™ï¼Œæ¯”å¦‚è¯´C#,Goå’ŒJAVAã€‚æ³¨æ„ï¼Œå¤§å¤šæ•°é«˜çº§è¯­è¨€åˆ°LLVMå­—èŠ‚ç çš„ç¿»è¯‘å™¨å·²ç»å¯ä»¥è·å¾—ã€‚æˆ‘ä»¬ä½¿ç”¨LLVMä¸°å¯Œçš„APIé›†åˆæ¥ç¼–å†™ç¬¬ä¸€ä¸ªSolidityåˆ°LLVMå­—èŠ‚ç çš„ç¿»è¯‘å™¨ï¼Œä¸ºäº†éªŒè¯å¿ å®åœ°å®ç°äº†å¤§å¤šæ•°Solidityè¯­æ³•çš„æ‰§è¡Œè¯­ä¹‰ã€‚æ›´è¿›ä¸€æ­¥ï¼Œä½¿ç”¨LLVMå…è®¸ZEUSå°†ç¿»è¯‘å®ç°å’ŒéªŒè¯åˆ†ç¦»ã€‚è¿™ç¯‡æ–‡ç« åšå‡ºæ¥ä»¥ä¸‹è´¡çŒ®ï¼š(1) æˆ‘ä»¬å¯¹æ–°çš„æˆ–è€…æ—©å·²å‡ºç°ä½†æ˜¯æ²¡æœ‰ç»è¿‡ç ”ç©¶çš„äº‹ä»¶åœ¨æ™ºèƒ½åˆçº¦çš„ä¸Šä¸‹æ–‡ä¸­è¿›è¡Œåˆ†ç±»ï¼Œå¹¶ä¸”è¯æ˜ä»–ä»¬å¯ä»¥æ½œåœ¨åœ°å¯¼è‡´èµ„é‡‘æµå¤±ã€‚(2) æˆ‘ä»¬æå‡ºäº†ä¸€ç§å½¢å¼åŒ–çš„Solidityæ‰§è¡Œè¯­ä¹‰æŠ½è±¡ï¼Œç»“åˆæŠ½è±¡è§£é‡Šå’Œç¬¦å·æ¨¡å‹æ£€æŸ¥æ¥éªŒè¯æ™ºèƒ½åˆçº¦ã€‚(3) æˆ‘ä»¬è®¾è®¡å¹¶å®ç°äº†ZEUSï¼Œä¸€ä¸ªç¬¦å·æ¨¡å‹æ£€æŸ¥æ¡†æ¶æ¥éªŒè¯æ­£ç¡®æ€§å’Œåˆæ³•æ€§ï¼Œæˆ‘ä»¬è®¾è®¡äº†ç¬¬ä¸€ä¸ªSolidityåˆ°LLVMå­—èŠ‚ç çš„ç¿»è¯‘å™¨ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªç¨‹åºåˆ†ææ¨¡å‹æ¥è‡ªåŠ¨åŒ–æ’å…¥ç»™å®šPolicyè§„èŒƒçš„éªŒè¯æ¡ä»¶ã€‚æˆ‘ä»¬è¿˜æä¾›äº†æŠ½è±¡Policyæ¥æ­£ç¡®å»ºæ¨¡Solidityçš„æ‰§è¡Œè¯­ä¹‰ä¿è¯å¯é æ€§ã€‚æ›´è¿‘ä¸€æ­¥ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªäº¤äº’å¼è°“è¯æå–å·¥å…·ä¾¿äºæ™ºèƒ½åˆçº¦ä¸­å¤šæ–¹äº¤äº’ã€‚(4) æˆ‘ä»¬è¿›è¡Œäº†ç¬¬ä¸€ä¸ªå¤§è§„æ¨¡Solidityæ™ºèƒ½åˆçº¦æºç åˆ†æï¼Œæˆ‘ä»¬åˆ†æäº†22493ä¸ªæ™ºèƒ½åˆçº¦(1524ä¸ªæ¯”è¾ƒç‰¹æ®Š)è¡¨æ˜å¤§æ¦‚æœ‰94.6%çš„åˆçº¦æœ‰ä¸€ä¸ªç”šè‡³å¤šä¸ªå®‰å…¨æ¼æ´ã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰ç ”ç©¶è¿™äº›æ¼æ´çš„å®é™…å¯åˆ©ç”¨æ€§ã€‚è€Œä¸”æˆ‘ä»¬é€‰æ‹©äº†å‡ ä¸ªæœ‰ä»£è¡¨æ€§çš„åˆçº¦å¹¶ä¸”åº”ç”¨äº†ä¸€äº›æ™ºèƒ½åˆçº¦ç‰¹å®šçš„å…¬å¹³æ€§å‡†åˆ™ã€‚(5) æ™ºèƒ½åˆçº¦æœ‰é›¶æ¼æŠ¥ç‡ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬çš„æ•°æ®é›†ä¸Šä¼˜äºOyenteï¼Œè¯¯æŠ¥ç‡ä½ï¼Œåœ¨åˆ†ææ—¶é—´ä¸Šæœ‰ä¸€ä¸ªæ•°é‡çº§çš„æ”¹è¿›ã€‚(6) é€šè¿‡ç”¨å®ƒåˆ†æè¶…çº§è´¦æœ¬çš„æ™ºèƒ½åˆçº¦ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ZEUSçš„æ™®éå¯ç”¨æ€§ã€‚æˆ‘ä»¬è¿˜é€šè¿‡ä½¿ç”¨SMACKè¿›è¡ŒéªŒè¯ï¼Œæ¼”ç¤ºäº†å°†ZEUSåº”ç”¨äºé€‰æ‹©çš„éªŒè¯å™¨çš„æ˜“ç”¨æ€§(SMACKç”¨äºå°†æºè¯­è¨€ç»†èŠ‚ä¸éªŒè¯å™¨å®ç°è§£è€¦) èƒŒæ™¯åŒºå—é“¾æ˜¯è¿›è¡Œå¤šæ–¹å¯éªŒè¯äº¤æ˜“çš„åˆ†å¸ƒå¼è´¦æœ¬ï¼Œå¯ä»¥é˜²æ­¢ç¯¡æ”¹å’ŒæŠµèµ–ã€‚é™¤äº†äº¤æ˜“ä¹‹å¤–ï¼Œæ¯ä¸€ä¸ªåŒºå—è¿˜åŒ…å«çŠ¶æ€å…ƒæ•°æ®(åˆ›å»ºæ—¶çš„æ—¶é—´æˆ³ã€äº¤æ˜“çš„Merkleå“ˆå¸Œã€ä¸Šä¸€ä¸ªå—çš„å“ˆå¸Œå€¼ã€æ™ºèƒ½åˆçº¦ä»£ç å’Œæ•°æ®)ï¼ŒæŒ–çŸ¿æ˜¯å¯¹æ¯ä¸ªå—æ‰§è¡Œåˆ†å¸ƒå¼è®¡ç®—è¯„å®¡çš„è¿‡ç¨‹ï¼Œç”¨äºç›¸äº’ä¸ä¿¡ä»»çš„ç¯å¢ƒä¸­å®ç°å…±è¯†æ— é™åˆ¶åŒºå—é“¾ï¼šå…¬æœ‰é“¾æœ‰é™åˆ¶åŒºå—é“¾ï¼šè”ç›Ÿé“¾ æ¿€åŠ±æ™ºèƒ½åˆçº¦çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§é—®é¢˜ A. æ­£ç¡®æ€§é—®é¢˜(1) é‡å…¥æ”»å‡»æ˜¯å› ä¸ºcallè¯­å¥å¯¼è‡´åˆçº¦æ§åˆ¶æµè½¬æ¢äº§ç”Ÿçš„æ¼æ´12345678910111213contract Wallet&#123; mapping(address =&gt; uint) private userBalances; function withdrawBalance() &#123; uint amountToWithdraw = userBalances[msg.sender]; if (amountToWithdraw &gt; 0) &#123; msg.sender.call(userBalances[msg.sender]); userBalances[msg.sender] = 0; &#125; &#125; ...&#125; 12345678contract AttackerContract&#123; function () &#123; Wallet wallet; wallet.withdrawBalance(); &#125;&#125; (2) æœªç»æ£€æŸ¥çš„sendsendæ“ä½œå¦‚æœå¤±è´¥åˆçº¦å¹¶ä¸ç»ˆæ­¢ï¼Œè€Œæ˜¯è¿”å›falseï¼Œæœ‰äº›åˆçº¦ä¸æ£€æŸ¥sendæ‰§è¡Œçš„çŠ¶æ€ç›´æ¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œå¯¼è‡´åˆçº¦å‡ºç°æ¼æ´ã€‚12345if(gameHasEnded &amp;&amp; !prizePaidOut)&#123; winner.send(1000); // send a prize to the winner prizePaidOut = True;&#125; (3) sendæ“ä½œå¤±è´¥(4) æ•´æ•°ä¸Šä¸‹æº¢å‡º(5) äº¤æ˜“çŠ¶æ€ä¾èµ–tx.originæŒ‡çš„æ˜¯äº¤æ˜“çš„æœ€åˆå‘èµ·è€…ï¼Œä½†äº¤æ˜“çš„æœ€åˆå‘èµ·è€…ä¸ä¸€å®šæ˜¯æ™ºèƒ½åˆçº¦å‡½æ•°çš„ç›´æ¥è°ƒç”¨è€…ã€‚1234567contract UserWallet &#123; function transfer(address dest, uint amount) &#123; if (tx.origin != owner) &#123; throw; &#125; dest.send(amount); &#125;&#125; 1234567contract AttackWallet &#123; function() &#123; UserWallet w = UserWallet(userWalletAddr); w.transfer(thiefStorageAddr, msg.sender.balance); &#125;&#125; å¯ä»¥ä½¿ç”¨ç¤¾ä¼šå·¥ç¨‹å­¦çš„æ–¹å¼è¯±å¯¼UserWalletçš„éƒ¨ç½²è€…è°ƒç”¨AttackWalletåˆçº¦ï¼Œæ­¤æ—¶tx.originæŒ‡çš„å°±æ˜¯UserWalletè€Œä¸æ˜¯msg.sender B. å…¬å¹³æ€§çš„é—®é¢˜è¯­ä¹‰æ­£ç¡®çš„åˆçº¦å¹¶ä¸ä¸€å®šéµå®ˆå®é™…é€»è¾‘(1) é€»è¾‘æŠ½è±¡ä½¿ç”¨selfdestructæ—¶ä¸å¯¹è°ƒç”¨è€…çš„èº«ä»½è¿›è¡Œæ£€æµ‹ã€‚è§£å†³é—®é¢˜ä¼šç»™äºˆå¥–åŠ±ï¼Œä½†æ˜¯å¦‚æœåˆçº¦ä¸­çš„é‡‘é¢ä¸è¶³ä»¥æ”¯æŒå¥–åŠ±æ”¯ä»˜å¯èƒ½ä¼šå¯¼è‡´åˆçº¦å¾—åˆ°äº†éš¾é¢˜çš„è§£ç­”ä½†æ˜¯å¹¶æ²¡æœ‰ç»™äºˆè§£å†³é—®é¢˜çš„äººå¥–åŠ±ã€‚(2) é€»è¾‘ä¸æ­£ç¡®ç›¸ä¼¼çš„å˜é‡åæˆ–è€…å‡½æ•°åå¯¼è‡´çš„æ··æ·†æ„é€ å‡½æ•°ä¸åˆçº¦åç§°å®Œå…¨ä¸åŒå¹¶ä¸”ä¸ºpublicç±»å‹ï¼Œå¯¼è‡´å¤–éƒ¨ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ„é€ å‡½æ•°(3) é€»è¾‘æ­£ç¡®ä½†æ˜¯ä¸å…¬å¹³æŒ‡çš„æ˜¯åˆçº¦ä»£ç ä¸ç¬¦åˆå®é™…çš„å•†ä¸šé€»è¾‘éœ€æ±‚ã€‚è®ºæ–‡ä¸­ä¸¾çš„æ˜¯ä¸€ä¸ªè¿›è¡Œæ‹å–çš„åˆçº¦ï¼Œæ­£å¸¸æ‹å–æ´»åŠ¨ä¸­åº”è¯¥é™åˆ¶æ‹å–æ–¹è¿›è¡Œç«ä»·ï¼Œåˆçº¦ä¸­å¹¶æ²¡æœ‰æ’é™¤è¿™ç§æ‹å–æ–¹ç«ä»·çš„æƒ…å†µã€‚ C. çŸ¿å·¥çš„å½±å“(1) åŒºå—çŠ¶æ€ä¾èµ–ã€‚æ—¶é—´æˆ³ã€æŒ–çŸ¿éš¾åº¦ã€gaslimitè¿™äº›å˜é‡å¯èƒ½è¢«ç”¨æ¥ç”Ÿæˆéšæœºæ•°ï¼Œä½†æ˜¯è¿™äº›å˜é‡å¯ä»¥è¢«åŒºå—å¤´éƒ¨å½±å“ï¼Œè€ŒçŸ¿å·¥åˆå¯ä»¥å½±å“åŒºå—å¤´éƒ¨å†…å®¹(åŠ å¤§æˆåŠŸçš„æ¦‚ç‡)(2) äº¤æ˜“é¡ºåºä¾èµ–ã€‚çŸ¿å·¥å¯ä»¥å†³å®šä¸€ä¸ªåŒºå—ä¸­çš„äº¤æ˜“é¡ºåºã€‚å¹¶å‘ç³»ç»Ÿé•¿æœŸä»¥æ¥éƒ½åœ¨å¤„ç†ç”±äºäº‹åŠ¡æ’åºè€Œå¯¼è‡´çš„æ•°æ®ç«äº‰é—®é¢˜ã€‚è™½ç„¶Solidityä¸æ”¯æŒå¹¶å‘æ€§ï¼Œä½†ç”±äºå…¶è‡ªèº«çš„é‡æ–°æ’åºæ ‡å‡†ï¼ŒçŸ¿å·¥å¯ä»¥å½±å“äº‹åŠ¡çš„ç»“æœã€‚ç”±äºè¿™ç§å¯¹äº‹åŠ¡æ’åºçš„ä¾èµ–æ˜¯ä¸€ä¸ªé€šç”¨çš„åŒºå—é“¾ç‰¹æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªé™åˆ¶ï¼Œè€Œä¸æ˜¯ç¼ºé™·ã€‚ ZEUSZEUSçš„ç»„æˆï¼š1.policyæ„å»ºå™¨;2.æºä»£ç ç¿»è¯‘å™¨;3.éªŒè¯å™¨ã€‚ZEUSä½¿ç”¨æ™ºèƒ½åˆçº¦æºç å’Œä½¿ç”¨ç‰¹å®šè¯­è¨€ç¼–å†™çš„policy(ç”¨æ¥éªŒè¯åˆçº¦)ä½œä¸ºè¾“å…¥ï¼Œå®ƒåœ¨æ™ºèƒ½åˆçº¦çš„ä»£ç ä¹‹ä¸Šæ‰§è¡Œé™æ€åˆ†æï¼Œå¹¶å°†Policyè°“è¯ä½œä¸ºassertè¯­å¥æ’å…¥æ­£ç¡®çš„ç¨‹åºç‚¹ã€‚ZEUSä½¿ç”¨ç¿»è¯‘å™¨å°†å¸¦æœ‰Policy assertè¯­å¥çš„æ™ºèƒ½åˆçº¦ç¿»è¯‘æˆLLVMå­—èŠ‚ç ã€‚æœ€åZEUSè°ƒç”¨å®ƒçš„éªŒè¯å™¨æ¥ç¡®å®šassertè¿è§„ï¼Œè¿™è¡¨ç¤ºPolicyè¿è§„(å°±æ˜¯è°ƒç”¨éªŒè¯å™¨æ¥ç¡®å®šassertè¯­å¥æ˜¯å¦ä¼šæ‰§è¡Œï¼Œå¦‚æœæ‰§è¡Œäº†å°±è¡¨ç¤ºè¿è§„) A. æ ‡å‡†åŒ–Solidityè¯­æ³•è®¾è®¡äº†ä¸€ä¸ªæŠ½è±¡è¯­è¨€æ¥æ•è·Solidityç¨‹åºçš„ç›¸å…³ç»“æ„ã€‚ä¸€ä¸ªç¨‹åºç”±ä¸€ç³»åˆ—çš„åˆçº¦å£°æ˜ç»„æˆã€‚é™¤äº†å£°æ˜å’Œåˆå§‹åŒ–åˆçº¦çš„æŒä¹…ç§æœ‰å­˜å‚¨ä¹‹å¤–ï¼Œæ¯ä¸ªåˆçº¦å¯ä»¥æŠ½è±¡åœ°çœ‹ä½œä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•å®šä¹‰çš„åºåˆ—ï¼Œè¿™äº›æ–¹æ³•å®šä¹‰ç”±å…³é”®å­—globalè¡¨ç¤ºã€‚ä¸€ä¸ªåˆçº¦å¯ä»¥ç”¨ä¸€ä¸ªIDå”¯ä¸€çš„è¡¨ç¤ºï¼ŒIDå±äºä¸€ç»„æ ‡è¯†ç¬¦ã€‚è°ƒç”¨ä¸€ä¸ªåˆçº¦çš„publicå‡½æ•°å¯ä»¥çœ‹æˆä¸€ç¬”äº¤æ˜“ã€‚ä¸ºäº†ç®€åŒ–ï¼Œæ–¹æ³•åªæœ‰ä¸€ä¸ªè¾“å…¥å˜é‡ç±»å‹Tå’Œä¸€ä¸ªå•ä¸€çš„å…¨å±€å˜é‡ï¼Œæ‰€ä»¥Tå¯ä»¥æ˜¯é›†åˆæˆ–è€…ç»“æ„ä½“ã€‚Solidityä¸­çš„å‡½æ•°è°ƒç”¨å¯ä»¥åˆ†ä¸ºä¸‰ç§:internal, externalå’Œcallã€‚internalå’Œexternalæ˜¯é€šè¿‡gotoè¯­å¥å®ç°çš„æˆ–è€…æ˜¯å†…è”çš„ã€‚callè°ƒç”¨ä½¿ç”¨postã€‚åˆçº¦çš„ä¸»ä½“è¢«æ ‡è®°ä½Sã€‚ç›¸åï¼Œå¯ä»¥ä½¿ç”¨è·¨åˆçº¦çš„å‚æ•°è°ƒç”¨postè¯­å¥ã€‚å› æ­¤ï¼Œå‚æ•°læ˜¯postçš„ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¬è¯­è¨€çš„è¯­ä¹‰æŠ½è±¡å…·ä½“çš„å€¼å’Œæ“ä½œã€‚å› æ­¤ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼ŒTæˆ–ç‰¹å®šè¡¨è¾¾å¼è¯­è¨€eçš„æšä¸¾ä»ç„¶æ˜¯æœªæŒ‡å®šçš„ã€‚è¯­è¨€çš„å…·ä½“ç»†èŠ‚ä¸é‡è¦ï¼Œæˆ‘ä»¬å¯ä»¥å‡å®šä¸ºä»»ä½•ä¼ ç»Ÿå‘½ä»¤å¼è¯­è¨€å®šä¹‰çš„çº¿æ€§ç®—æœ¯è¡¨è¾¾å¼ã€‚havocè¯­å¥ä¸ºå˜é‡lèµ‹ä¸€ä¸ªä¸ç¡®å®šçš„å€¼ã€‚assertè¯­å¥åœ¨ç¬¦å·ç¼–ç ä¸­å¼•å…¥äº†å¯¹è°“è¯çœŸå€¼çš„æ£€æŸ¥ã€‚assumeè¯­å¥é˜»å¡ï¼Œç›´åˆ°æä¾›çš„è¡¨è¾¾å¼å˜ä¸ºtrueå¹¶åœ¨åˆçº¦ä¸­çš„ç»™å®šæ§ä»¶ä½ç½®æŒ‡å®šæ•°æ®çŠ¶æ€ä¸ºæ­¢ã€‚è™½ç„¶å…³äºSolidityå’Œæˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€åœ¨è¯­ä¹‰ä¸Šçš„ç­‰ä»·æ€§çš„æ­£å¼è®¨è®ºæ˜¯å¯å–çš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å®šä¹‰ä»Solidityç»“æ„åˆ°æŠ½è±¡è¯­è¨€ç»“æ„çš„æŠ½è±¡å‡½æ•°æ¥å»ºç«‹ï¼Œä½†æ˜¯ä¸ºäº†ç©ºé—´çš„åˆ©ç›Šï¼Œæˆ‘ä»¬çœç•¥äº†å®ƒã€‚ç›¸åï¼Œæˆ‘ä»¬ç”¨æŠ½è±¡è¯­è¨€ç›´è§‚åœ°æ¨ç†å„ç§Solidityç»“æ„åŠå…¶ç­‰æ•ˆæ¨¡å‹ã€‚class,libraryå’Œinterfacesè¿™äº›ç»“æ„åœ¨æˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€ä¸­å¯ä»¥è¢«è®¤ä¸ºæ˜¯å…¨å±€å˜é‡å’Œå‡½æ•°çš„é›†åˆï¼Œç¼–è¯‘å™¨åœ¨ç¿»è¯‘C/C++ä»£ç åˆ°LLVMå­—èŠ‚ç çš„è¿‡ç¨‹ä¸­ä¹Ÿå°†ä»–ä»¬è§†ä½œç›¸ä¼¼çš„ã€‚struct,mapping,array,byteséƒ½æ˜¯å…¨å±€çš„ã€‚åƒsha256è¿™ç§å¯ä»¥å½±å“åŒä¸€ä¸ªåˆçº¦çŠ¶æ€çš„æ–¹æ³•è¢«è®¤ä¸ºæ˜¯externalæ–¹æ³•ã€‚åƒsend,transferå’Œcallè¿™ç§å¯¹åœ°å€è¿›è¡Œæ“ä½œçš„è¯­å¥æ˜¯é€šè¿‡postè¯­å¥è¿›è¡Œå»ºæ¨¡çš„ã€‚åƒselfdestructè¿™æ ·çš„ç‰¹æ®Šç»“æ„æ˜¯ç”¨æˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€æœ¬åœ°å»ºæ¨¡çš„ã€‚Solidityä¸­æ‰€æœ‰çš„æ§åˆ¶è¯­å¥å’Œå‡½æ•°ä¿®é¥°ç¬¦éƒ½å¯ä»¥è¢«è§£ç³–æˆif-then-elseå’Œgotoçš„å½¢å¼ã€‚åƒassert,requireå’Œthrowè¿™ç§å‡ºé”™å¤„ç†ä¹Ÿå¯ä»¥ç”¨if-thenå’Œthrowè¡¨ç¤ºã€‚æ³¨æ„ï¼Œåœ¨æˆ‘ä»¬çš„è¯­è¨€ä¸­assertå’Œassumeæ˜¯ç”¨æ¥åšéªŒè¯çš„ï¼Œassertè¯­å¥ä¸åœ¨Solidityä¸­çš„è¯­æ³•ä¸åŒã€‚å…¶ä»–çš„ç¼–è¯‘æŒ‡ä»¤ï¼Œæ¯”å¦‚è¯´constantå’Œstorageä¹Ÿè¢«è§£ç³–äº†ï¼Œè€Œä¸æ˜¯ç”¨æˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€æ˜ç¡®å»ºæ¨¡çš„ã€‚è¯­æ³•ç³–è¯­æ³•ç³–å®é™…ä¸Šæ˜¯ä¸€ç§ä¾¿æ·å†™æ³•ã€‚æ¯”å¦‚è¯´input.map(item =&gt; item + 1)è¡¨ç¤ºçš„æ˜¯ï¼š123input.map(function (item) &#123; return item + 1;&#125;); è¯­æ³•ç³–çš„ä½œç”¨å°±æ˜¯è®©å†™ä»£ç æ›´åŠ ç®€å•å’Œå®¹æ˜“ç†è§£ã€‚(ç›¸åçš„æ“ä½œå°±æ˜¯åŠ ç›)ä¹‹æ‰€ä»¥å«ã€Œè¯­æ³•ã€ç³–ï¼Œä¸åªæ˜¯å› ä¸ºåŠ ç³–åçš„ä»£ç åŠŸèƒ½ä¸åŠ ç³–å‰ä¿æŒä¸€è‡´ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œç³–åœ¨ä¸æ”¹å˜å…¶æ‰€åœ¨ä½ç½®çš„è¯­æ³•ç»“æ„çš„å‰æä¸‹ï¼Œå®ç°äº†è¿è¡Œæ—¶ç­‰ä»·ã€‚å¯ä»¥ç®€å•ç†è§£ä¸ºï¼ŒåŠ ç³–åçš„ä»£ç ç¼–è¯‘åè·ŸåŠ ç³–å‰ä¸€æ¨¡ä¸€æ ·ã€‚è¯­è¨€è¯­ä¹‰åŒºå—çŠ¶æ€è¢«å®šä¹‰ä¸ºï¼š$&lt;&lt;\Gamma, \sigma&gt;, BC&gt;$, $&lt;\Gamma, \sigma&gt;$æ˜¯Bæ­£åœ¨æŒ–æ˜çš„å—ï¼ŒBCæ˜¯å·²ç»æäº¤çš„å—åˆ—è¡¨ï¼Œ$\Gamma$æŒ‡å·²ç»å®Œæˆä½†æ˜¯è¿˜æ²¡æœ‰æäº¤çš„äº¤æ˜“é›†åˆã€‚Valæ˜¯è¡¨è¾¾å¼åœ¨æ±‚å€¼åå¯ä»¥å–çš„å€¼é›†åˆã€‚$\sigma$æ˜¯å…¨å±€çŠ¶æ€ï¼Œ$\sigma:Id-&gt;g$æŒ‡åˆçº¦æ ‡è¯†åˆ°å…¨å±€å˜é‡çš„æ˜ å°„ã€‚$\sigma$æ˜¯æŒ‡çŸ¿å·¥æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œ$\Gamma$åçš„çŠ¶æ€ã€‚æœ€åï¼Œäº¤æ˜“ç¡®å®šåçŸ¿å·¥å°†BåŠ å…¥è‡ªå·±çš„åŒºå—ä¸­ã€‚äº¤æ˜“ç”±ä¸€ç³»åˆ—çš„å¸§(ç”¨$\gamma$è¡¨ç¤º)ç»„æˆã€‚æ¯ä¸€ä¸ªå¸§è¢«è¿›ä¸€æ­¥å®šä¹‰ä¸º$f := &lt;l, id, M, pc, v&gt;$,læ˜¯æ–¹æ³•çš„å±€éƒ¨å˜é‡ï¼ŒMæ˜¯åˆçº¦(æ ‡è¯†ç¬¦ä¸ºid)çš„ä»£ç ï¼Œpcæ˜¯ç¨‹åºè®¡æ•°å™¨ï¼Œv := æ˜¯ç”¨æ¥å­˜å‚¨è¾“å…¥è¾“å‡ºçš„è¾…åŠ©å­˜å‚¨å™¨ã€‚$\gamma$çš„é¡¶å¸§æ˜¯æ­£åœ¨æ‰§è¡Œçš„å¸§ï¼Œä¸ç›®å‰æ­£åœ¨è¿›è¡Œçš„äº¤æ˜“æœ‰å…³ï¼Œå®ƒä¸æ˜¯æŒä¹…åŒºå—é“¾çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªç©ºçš„å¸§å¯ä»¥è¢«æ ‡è®°ä¸º$\epsilon$ï¼Œæ ‡è¯†ç¬¦cè¢«å®šä¹‰ä¸º$c := &lt;\gamma, \sigma&gt;$ç”¨æ¥æ•è·äº¤æ˜“çŠ¶æ€ï¼Œ$\leadsto$è¡¨ç¤ºå°æ­¥éª¤æ“ä½œè¯­ä¹‰.ä¸‹è¡¨åˆ—å‡ºäº†ç®¡ç†é…ç½®æ›´æ”¹çš„ç›¸å…³è¯­æ³•è§„åˆ™ï¼Œå…¶ä½™é¡ºåºè¯­å¥çš„è§„åˆ™æ˜¯æ ‡å‡†çš„ã€‚ç¬¦å·$\to$è¯´æ˜ä¸€ä¸ªäº¤æ˜“ä¸å…¨å±€çŠ¶æ€å’ŒåŒºå—é“¾çŠ¶æ€ç›¸å…³ã€‚ç¬¦å·$\gets$è¡¨ç¤ºå¯¹ä¸€ä¸ªlvar(å±€éƒ¨å˜é‡)èµ‹å€¼ã€‚Table 1 B.æ ‡å‡†åŒ–è§„åˆ™è¯­è¨€å‡è®¾PVarsæ˜¯ä¸€ç»„ç¨‹åºå˜é‡ï¼ŒFuncæ˜¯ä¸€ç»„æ™ºèƒ½åˆçº¦ä¸­çš„å‡½æ•°åç§°ï¼ŒExpræ˜¯ä¸€ç»„æ¡ä»¶è¡¨è¾¾å¼(ç‰¹å®šçš„æ— é‡è¯ä¸€é˜¶é€»è¾‘(FOL)å…¬å¼)ã€‚Policyè§„èŒƒå¿…é¡»ä½¿ç”¨è¿™äº›è¯­æ³•ç¬¦å·ï¼Œä»¥é¿å…åœ¨éªŒè¯æœŸé—´äº§ç”Ÿæ­§ä¹‰ZEUSåˆ©ç”¨ç”¨æˆ·çš„å¸®åŠ©å»ºç«‹äº†ä¸€ä¸ªXACMLé£æ ¼çš„Policyæ¨¡æ¿&lt;Sub, Obj, Op, Cond, Res&gt;ã€‚$Sub \in PVar$ æ˜¯ä¸€ç»„éœ€è¦è¢«è·Ÿè¸ªçš„å˜é‡ï¼Œ$Obj \in PVar$æ˜¯ä¸€ç»„ä¸ä¸»ä½“äº¤äº’çš„å˜é‡ï¼ŒOpæ˜¯ä¸€ç»„ä¾§å½±å“è°ƒç”¨ï¼Œç”¨äºæ•è·ä¸»ä½“å’Œå¯¹è±¡ä¹‹é—´äº¤äº’çš„æ•ˆæœã€‚Opè¿˜æŒ‡å®šäº†ä¸€ä¸ªè§¦å‘å™¨å±æ€§ï¼Œå³â€œpreâ€æˆ–â€œpostâ€ï¼ŒæŒ‡ç¤ºè°“è¯åº”è¯¥åœ¨æŒ‡å®šæ“ä½œä¹‹å‰è¿˜æ˜¯ä¹‹åä¿å­˜ï¼Œæ¢å¥è¯è¯´ï¼ŒOp := &lt;f, trig&gt;è¿™é‡Œ$f \in Func, trig \in (pre, post)$ã€‚æ¡ä»¶$Cond \in Expr$æ˜¯ä¸€ç»„æ§åˆ¶å¯¼è‡´äº¤äº’æ“ä½œçš„è°“è¯é›†ã€‚æœ€å,$Res \in {T, F}$è¡¨æ˜ä¸»ä½“å’Œæ“ä½œä¹‹é—´è¢«è°“è¯æ§åˆ¶çš„äº¤äº’æ˜¯è¢«å…è®¸çš„è¿˜æ˜¯è¢«ç¦æ­¢çš„.Policyåˆ°assertionä¹‹é—´çš„è½¬æ¢æˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€åŒ…å«assertionæ¥å®šä¹‰æ™ºèƒ½åˆçº¦ä¸­çš„çŠ¶æ€å¯è¾¾ç‰¹æ€§ã€‚ZEUSåˆ©ç”¨policyæ¥æå–(a)éœ€è¦assertçš„è°“è¯(i.e. Cond)(b)åœ¨ç¨‹åºæºä»£ç ä¸­æ’å…¥assertè¯­å¥çš„æ­£ç¡®æ§åˆ¶ä½ç½®.Condåœ¨æˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€ä¸­æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä½¿ç”¨è¿™ä¸ªè¡¨è¾¾å¼è°“è¯å¹¶å°†å…¶åŒ…è£…åœ¨assert(exp)ä¸‹ï¼Œå°†åœ¨æˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€ä¸­åˆ›å»ºä¸€æ¡è¯­å¥ï¼ŒResæŒ‡ç¤ºæ¡ä»¶æ˜¯ä»¥æ­£å¸¸å½¢å¼å‡ºç°ï¼Œè¿˜æ˜¯ä»¥å¦å®šå½¢å¼å‡ºç°åœ¨assertè¯­å¥ä¸­.Opè¡¨ç¤ºè°“è¯(å¦‚æ¡ä»¶æ‰€ç¤º)å¿…é¡»æ»¡è¶³trig.trigå’ŒSub,Objå‡†ç¡®åœ°åˆ¤æ–­æ“ä½œçš„å“ªäº›è°ƒç”¨åº”è¯¥ä»¥æ¡ä»¶ä¸ºå‰ç¼€æˆ–åç¼€ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ç²¾ç¡®åœ°çŸ¥é“äº†æŠ½è±¡ç¨‹åºPä¸­å¿…é¡»assert Condçš„ä½ç½®æ›´æ­£å¼çš„è¯´ï¼Œ$f: Sub \times Obj \times Op \to Loc$ï¼ŒLocæ˜¯ä¸€ç»„ç¨‹åºä½ç½®ã€‚ä½¿ç”¨æ±¡ç‚¹åˆ†ææ¥ç¡®å®šSubå’ŒObjç»“åˆä½¿ç”¨çš„åœ°æ–¹ï¼Œé€šè¿‡åªé€‰æ‹©è°ƒç”¨æŒ‡å®šæ“ä½œçš„é‚£äº›æ§ä»¶ä½ç½®ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–æ­¤é›†åˆã€‚æœ€åçš„ä½ç½®å°±æ˜¯éœ€è¦assert(Cond)çš„ä½ç½®ã€‚ C.å¯é æ€§å°†æºä»£ç ç¿»è¯‘æˆå¸¦æœ‰assertè¯­å¥çš„æŠ½è±¡è¯­è¨€ï¼Œå¹¶æœ€åè½¬æ¢æˆLLVMå­—èŠ‚ç çš„è¿‡ç¨‹æ˜¯å¯é çš„ã€‚1.Solidityç¿»è¯‘æˆæˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€ä¸ä¼šå½±å“è¯­æ³•è¡¨ç°ï¼Œ2.ä¿å®ˆçš„æ›¿æ¢assertè¯­å¥ä¸ä¼šå½±å“æ–¹æ³•çš„å¯é æ€§ï¼Œ2.æŠŠpolicyçš„ç¡®è®¤é—®é¢˜è½¬æ¢æˆäº†ä¸€ä¸ªçŠ¶æ€å¯è¾¾é—®é¢˜ã€‚4.åœ¨Solidityç¨‹åºçš„ä¸Šä¸‹æ–‡ä¸­å®šä¹‰äº†ä¸€ä¸ªå¯è¾¾çŠ¶æ€ã€‚5.æˆ‘ä»¬è¯æ˜ï¼Œé€šè¿‡ç¡®ä¿ç¨‹åºçš„è¿‡è¿‘ä¼¼ç‰ˆæœ¬å…·æœ‰çŠ¶æ€å¯è¾¾æ€§ï¼Œæˆ‘ä»¬ä¸ä¼šé—æ¼ä»»ä½•ç¨‹åºè¡Œä¸ºã€‚æœ€åï¼Œæˆ‘ä»¬è¯æ˜ä»è¿‡è¿‘ä¼¼çš„Solidityç¨‹åºåˆ°LLVMå­—èŠ‚ç çš„ç¿»è¯‘æ˜¯å®Œå…¨ä¸€å¯¹ä¸€çš„ç¿»è¯‘ï¼Œæˆ‘ä»¬çš„æ•´ä½“ç¨³å¥æ€§æ¨¡å—çš„å†³ç­–è¿‡ç¨‹è¢«ä¿ç•™ã€‚(1) ä»Solidityåˆ°æŠ½è±¡è¯­è¨€ä»Solidityåˆ°æˆ‘ä»¬æŠ½è±¡è¯­è¨€çš„ç¿»è¯‘è¿‡ç¨‹ä¿ç•™äº†æºè¯­è¨€çš„è¯­ä¹‰è¡Œä¸ºï¼Œè™½ç„¶æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…³äºå®ä½“çš„è¯­ä¹‰ç­‰ä»·æ€§å’Œæˆ‘ä»¬çš„æŠ½è±¡è¯­è¨€çš„å½¢å¼åŒ–è®ºè¯ï¼Œä½†æ˜¯ä¸ºäº†ç©ºé—´çš„åˆ©ç›Šï¼Œæˆ‘ä»¬å¿½ç•¥äº†å®ƒã€‚(2) æ±¡ç‚¹åˆ†æå¯¹å¯é æ€§çš„å½±å“æ±¡ç‚¹åˆ†æç¡®å®šæ’å…¥è°“è¯è¯­å¥çš„ä½ç½®ï¼Œå¯èƒ½ä¼šåœ¨å¤šä¸ªä½ç½®æ’å…¥è°“è¯è¯­å¥ï¼Œè¿™ç§æ’å…¥å¯èƒ½ä¼šå¼•å…¥è¯¯æŠ¥ç‡ä½†æ˜¯ä¸ä¼šæ¼æŠ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ–¹æ³•æ˜¯å¯é çš„ã€‚(3) policyéªŒè¯çš„è¯­ä¹‰å®ç°policyæ˜¯æ— é‡è¯çš„ä¸€é˜¶é€»è¾‘å…¬å¼ï¼Œpolicyçš„éªŒè¯å¯ä»¥è¢«ç®€åŒ–æˆçŠ¶æ€å¯è¾¾é—®é¢˜ï¼Œi.e.æ˜¯å¦å­˜åœ¨ä»å¼€å§‹ç­–ç•¥å°±ä¸æˆç«‹çš„å¯è¾¾çŠ¶æ€ã€‚policy $\phi$ hold on ç¨‹åºP,å½“$N \models \phi$,Næ˜¯ç¨‹åºPåšä¸€ä¸ªçŠ¶æ€è½¬æ¢å…³ç³»æœ‰é™è‡ªåŠ¨æœºçš„æ­£å¼è¡¨ç¤ºã€‚assert(exp)åœ¨æŠ½è±¡è¯­è¨€ä¸­ä¸é«˜çº§è¯­è¨€ä¸­çš„assertè¯­å¥æœ‰ä¸åŒçš„è¯­æ³•å«ä¹‰ã€‚(4) ç¨‹åºä¸­assertionçš„å®‰å…¨æ„å‘³ç€policyçš„ç¡®è®¤å®šç†1:æºç¨‹åºçš„å®‰å…¨æ€§ç­‰ä»·äºç¿»è¯‘åç¨‹åºçš„å®‰å…¨æ€§è¯æ˜:assertè¯­å¥çš„è¯­ä¹‰è§„åˆ™è¡¨æ˜ä¸ä¼šå¯¹é™¤äº†ç¨‹åºè®¡ç®—å™¨ä»¥å¤–çš„ä»»ä½•æ•°æ®çŠ¶æ€é€ æˆæ”¹å˜ã€‚assertä»…ä½œä¸ºæ ‡è®°ä¸åº•å±‚éªŒè¯å™¨ç›¸å…³ï¼Œä»¥ç”ŸæˆéªŒè¯æ¡ä»¶ã€‚ç¿»è¯‘å‰åçš„ç¨‹åºè¡Œä¸ºç›¸åŒï¼Œæ‰€ä»¥assertionçš„å®‰å…¨æ€§ä¹Ÿç›¸åŒã€‚(5) Over-approximationçš„å®‰å…¨æ€§assertè¯­å¥çš„åŠ å…¥ä¸å½±å“å®‰å…¨æ€§(6) æ–¹æ³•çš„å®‰å…¨æ€§æŠ½è±¡è¯­è¨€åˆ°LLVMå­—èŠ‚ç ä¹Ÿæ˜¯å®‰å…¨çš„(soundness) D.é€šè¿‡CHCsæ‰§è¡Œç¬¦å·æ£€æŸ¥ZEUSä½¿ç”¨CHCsA. Gurfinkel et al., â€œThe SeaHorn Verification Framework,â€ in CAVâ€™15æ¥éªŒè¯ç¿»è¯‘æˆLLVMå­—èŠ‚ç åç¨‹åºçš„å®‰å…¨æ€§.CHCè¡¨ç¤ºçš„ä¼˜ç‚¹ä½¿å…¶èƒ½å¤Ÿä¸å„ç§åŸºäºsmtçš„æ±‚è§£å™¨å’Œç°æˆçš„æ¨¡å‹æ£€æŸ¥å™¨è¿›è¡Œäº¤äº’ E.ç«¯åˆ°ç«¯çš„ç¤ºä¾‹ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªå„ç§ç«¯åˆ°ç«¯ç¿»è¯‘çš„ç¤ºä¾‹ï¼Œåˆçº¦å‘msg.senderå‘é€msg.valueçš„é‡‘é¢ï¼Œç„¶ååœ¨bal[msg.sender]ä¸­å‡å»msg.valueã€‚policyæ£€æŸ¥sendè°ƒç”¨å¿…é¡»æ»¡è¶³msg.senderçš„ä½™é¢å¤§äºmsg.valueã€‚ZEUSä»policyä¸­æå–æ¡ä»¶ï¼Œå°†å…¶è½¬æ¢æˆassertè¯­å¥æ”¾å…¥Solidityä¸­ï¼Œç„¶åå°†å…¶è½¬æ¢æˆæŠ½è±¡è¯­è¨€ï¼Œæœ€åå°†ç¨‹åºç¿»è¯‘æˆLLVMå­—èŠ‚ç ã€‚ å®ç°åœ¨Solidtyçš„C++ç¼–è¯‘å™¨solcçš„åŸºç¡€ä¸Šå®ç°policy builderå’ŒSolidityåˆ°LLVMçš„ç¿»è¯‘å™¨ã€‚ä½¿ç”¨Seahornåšç¬¦å·æ¨¡å‹æ£€æŸ¥çš„åç«¯æ¥éªŒè¯policyã€‚æˆ‘ä»¬æ²¡æœ‰ä»å¤´æ„å»ºéªŒè¯å™¨ï¼Œè€Œæ˜¯ç¡®å®šåœ¨LLVMå­—èŠ‚ç ä¸Šä½¿ç”¨CHCsæ—¶Seahornä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç°æˆçš„ä½¿ç”¨ç”ŸæˆéªŒè¯æ¡ä»¶çš„å®ç°ã€‚ä½†æ˜¯ZEUSä¸ä¸Seahornè€¦åˆï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»»ä½•å·¥ä½œåœ¨LLVMå­—èŠ‚ç ä¸Šçš„éªŒè¯å™¨ï¼Œæ¯”å¦‚è¯´SMACKå’ŒDIVINE. A. Policy BuilderZEUSä»ASTèŠ‚ç‚¹ä¸Šæå–æ ‡è¯†ä¿¡æ¯ã€‚ä»ASTæ ‘çš„å‡½æ•°è°ƒç”¨èŠ‚ç‚¹ä¸Šæå–æ“ä½œï¼Œè€Œè°“è¯æ˜¯ä»è¡¨ç¤ºäºŒè¿›åˆ¶æ“ä½œçš„èŠ‚ç‚¹ä¸­çš„æ¡ä»¶ä¸­æå–çš„ã€‚ZEUSåœ¨åˆçº¦ä»£ç ä¸Šè¿›è¡Œæ±¡ç‚¹åˆ†æï¼Œç„¶åè¿›è¡ŒAPIæå–ï¼ŒZEUSè¿˜ä¼šæ•è·æ§åˆ¶æµæ¡ä»¶å’Œè·¯å¾„è°“è¯ï¼Œæ±¡ç‚¹åˆ†æçš„è¾“å‡ºæ˜¯ä¸€ç»„å…ƒç»„ï¼Œç”±æºã€å¯¹è±¡ã€æ¥æ”¶å™¨åŠå…¶å¯¹åº”çš„è·¯å¾„è°“è¯ç»„æˆã€‚ç„¶åZEUSåˆ—å‡ºäº†æ‰€æœ‰å¯ç”¨çš„æ±¡ç‚¹é›†åˆï¼Œå³ï¼Œå…¨å±€å˜é‡å’Œç¯å¢ƒå˜é‡ï¼Œç”¨æˆ·ä»ä¸­é€‰æ‹©è¦è·Ÿè¸ªçš„subjectã€‚ç„¶åï¼Œå®ƒè¿‡æ»¤æ¥è‡ªæ±¡ç‚¹åˆ†æçš„ç»“æœï¼Œè¯¥æ±¡ç‚¹åˆ†æå°†æœç´¢ç©ºé—´å‡å°‘åˆ°åŒ…å«ç”¨æˆ·é€‰æ‹©çš„è‡³å°‘ä¸€ä¸ªsubjectçš„å…ƒç»„.ZEUSç„¶åæç¤ºç”¨æˆ·é€‰æ‹©å¯¹è±¡ï¼Œç„¶åè¿›ä¸€æ­¥åˆ é™¤å…ƒç»„åˆ—è¡¨.ç„¶åæ˜¾ç¤ºè‡³å°‘æ¶‰åŠä¸€ä¸ªæˆ–å¤šä¸ªsubjectæˆ–objectçš„æ½œåœ¨è°ƒç”¨çš„åˆ—è¡¨ã€‚åœ¨è¿›ä¸€æ­¥é€‰æ‹©ä¹‹åï¼ŒZEUSåˆ—å‡ºäº†ä»æºåˆ°æ¥æ”¶å™¨æ‰€é‡åˆ°çš„å¯ç”¨è°“è¯ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨å¸ƒå°”è¿ç®—ç¬¦ç»„åˆè¿™äº›è°“è¯(æˆ–æŒ‡å®šè‡ªå·±çš„è°“è¯)ï¼Œä»¥åœ¨ç­–ç•¥ä¸­å½¢æˆæ¡ä»¶ï¼Œå¹¶æŒ‡ç¤ºæ˜¯å¦å°†å®ƒä»¬ä½œä¸ºå‰ç½®æ¡ä»¶æˆ–åç½®æ¡ä»¶æ£€æŸ¥ã€‚æœ€åï¼Œç”¨æˆ·åœ¨ç»“æœæ ‡è®°ä¸­æŒ‡å‡ºè§„èŒƒæ˜¯å¦ç¡®å®šäº†è¿åæˆ–æ¥å—çš„è¡Œä¸ºã€‚ B. Solidityåˆ°LLVMå­—èŠ‚ç çš„ç¿»è¯‘å™¨ä¸ºäº†ä¾¿äºå®ç°ï¼Œå®ƒè¯»å–ç­–ç•¥è§„èŒƒå¹¶é‡å†™ä½ä»£ç (è€Œä¸æ˜¯Solidityæºä»£ç )ï¼Œä»¥ä¾¿æŒ‰ç…§è§„èŒƒä¸­çš„è§¦å‘å™¨å±æ€§ä¸ºè°“è¯æ³¨å…¥æ–­è¨€æ¡ä»¶ã€‚å¤§å¤šæ•°Solidityçš„è¯­å¥å’Œè¡¨è¾¾å¼éƒ½æœ‰ä¸C/C++ç›¸åŒçš„è¯­ä¹‰ã€‚ä½¿ç”¨LLVMçš„APIæ¥ç¿»è¯‘ASTã€‚(1) æ‰§è¡Œé¡ºåºç”±äºåœ¨æ²¡æœ‰å¼ºåˆ¶æ‰§è¡Œå…¨å±€è°ƒç”¨é¡ºåºçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä»»æ„åœ°å¯¹å¥‘çº¦çš„å…¬å…±å‡½æ•°è¿›è¡Œè®¸å¤šå¹¶è¡Œè°ƒç”¨ï¼Œå› æ­¤å»ºæ¨¡è¿™äº›æ— é™å¤šçš„æ‰§è¡Œé¡ºåºæ˜¯ä¸å¯èƒ½çš„ã€‚æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå¯¹äº7ä¸ªç±»ä¸­çš„6ä¸ªç±»(é™¤äº†ä¾èµ–äºäº‹åŠ¡é¡ºåºçš„ç±»)ï¼Œé”™è¯¯æ£€æµ‹æ˜¯äº‹åŠ¡å†…éƒ¨çš„ã€‚æ¢å¥è¯è¯´ï¼ŒéªŒè¯è€…éœ€è¦å¯¹ä¸€ä¸ªè°ƒç”¨é“¾ä¸­çš„bugè¿›è¡Œæ¨ç†ã€‚äº‹åŠ¡çš„é¡ºåºä¸ä¼šå½±å“äº‹åŠ¡ä¸­çš„bugæ£€æµ‹ã€‚å¯¹äº‹åŠ¡é¡ºåºä¾èµ–å…³ç³»çš„æ£€æµ‹æ¶‰åŠåˆ°è·¨ä¸€å¯¹äº‹åŠ¡æ£€æµ‹å¯¹æ•æ„Ÿå…¨å±€å˜é‡çš„å†™æ“ä½œå’Œåç»­è¯»æ“ä½œã€‚å¯¹å‡½æ•°å¯¹è¿›è¡Œæ¨ç†å°±è¶³å¤Ÿäº†ï¼Œå› ä¸ºäº‹åŠ¡é¡ºåºä¾èµ–çš„æœ€å°å®ä¾‹å¿…é¡»åœ¨è‡³å°‘ä¸¤ä¸ªå‡½æ•°è°ƒç”¨ä¹‹é—´è¡¨ç°å‡ºæ¥ã€‚å‰©ä½™å‡½æ•°çš„æ’åºå¯¹äºæ£€æµ‹bugæ¥è¯´æ˜¯æ— å…³ç´§è¦çš„ã€‚å› æ­¤ï¼Œå¯¹äºå…·æœ‰nä¸ªå…¬å¼€å¯ç”¨å‡½æ•°çš„å¥‘çº¦ï¼ŒZEUSå¿…é¡»å¯¹O(n^2)å¯èƒ½çš„æ’åºè¿›è¡Œæ¨ç†ã€‚ZEUSäº§ç”Ÿäº†ä¸€å¥—mainå‡½æ•°ï¼Œä½œä¸ºéªŒè¯çš„åˆ‡å…¥ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼Œä¸»å‡½æ•°æ˜¯ä¸€ä¸ªåœ¨è°ƒç”¨å…¬å¼€å®šä¹‰çš„å‡½æ•°ä¹‹å‰æ‹¥æœ‰æ‰€æœ‰å…¨å±€çŠ¶æ€çš„å·¥å…·ã€‚å¯¹äºäº‹åŠ¡é¡ºåºä¾èµ–ï¼ŒZEUSæ‹¥æœ‰å…¨å±€çŠ¶æ€ï¼Œå¹¶ä»ä¸€ä¸ªä¸»è¦åŠŸèƒ½ä¸­è°ƒç”¨æ‰€æœ‰å…¬å…±åŠŸèƒ½çš„æˆå¯¹æ’åˆ—ã€‚æ­¤å¤–ï¼ŒZEUSåœ¨è°ƒç”¨callå®¶æ—çš„ä»»ä½•æˆå‘˜æ—¶æ‹¥æœ‰æ•´ä¸ªå…¨å±€çŠ¶æ€ã€‚(2) è·¯å¾„éå†åœ¨Solidityä¸­ï¼Œå…¨å±€å˜é‡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¿æŒçŠ¶æ€ã€‚åœ¨ä¸€ä¸ªé™æ€åˆ†ææ‰§è¡Œä¸­å»ºæ¨¡å’Œæ¨ç†æ‰€æœ‰è¿™äº›çŠ¶æ€æ˜¯ä¸åˆ‡å®é™…çš„ã€‚å› æ­¤ï¼ŒZEUSå°†å¥‘çº¦ä¸­æ‰€æœ‰å…¨å±€å˜é‡(åŒ…æ‹¬å—å’Œäº‹åŠ¡çŠ¶æ€å˜é‡)çš„å€¼æŠ½è±¡ä¸ºä¸æ•°æ®ç±»å‹å¯¹åº”çš„æ•´ä¸ªæ•°æ®åŸŸã€‚ä¾‹å¦‚ï¼Œuint256ç±»å‹çš„å…¨å±€å˜é‡è¢«å»ºæ¨¡ä¸ºå…·æœ‰æ•´å‹åŸŸï¼Œå¹¶ä¸”å¯ä»¥æ¥å—0åˆ°INT_MAXä¹‹é—´çš„ä»»ä½•å€¼ã€‚å¯¹äºä»»ä½•å…·ä½“å®šä¹‰çš„èµ·å§‹å€¼ï¼ŒZEUSéƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨å®ƒä»¬æ¥æ¢ç´¢æ•´ä¸ªæ•°æ®åŸŸã€‚ä¿æŒåˆå§‹å€¼ä¸å˜å¹¶ä¸ä¼šå¯¼è‡´æ‰€æœ‰å¯èƒ½çš„æ‰§è¡Œï¼Œå› ä¸ºè¯¥å€¼å¯èƒ½åœ¨åç»­çš„å¥‘çº¦æ‰§è¡Œä¸­å¢åŠ ï¼Œå¹¶å¯èƒ½åœ¨å°†æ¥å¯¼è‡´æ½œåœ¨çš„å¯ä½¿ç”¨æ€§ã€‚å› æ­¤ï¼Œå•ä¸ªé™æ€æ‰§è¡Œå°±è¶³ä»¥åˆ†ææ‰€æœ‰å¯èƒ½çš„æ§åˆ¶è·¯å¾„ã€‚==blablaç¿»è¯‘é«˜çº§è¯­æ³•çš„ä¸€äº›ç»†èŠ‚å’ŒZEUSçš„ç¼ºé™·== C.Handling Correctness Bugs(1)é‡å…¥æ¼æ´åˆ›å»ºä¸€ä¸ªå®Œå…¨ç›¸åŒçš„å‡½æ•°ï¼Œä½†æ˜¯å…¶ä¸­åŠ å…¥assert(false)è¯­å¥ï¼Œä¸»è¦æ˜¯ä¸ºäº†éªŒè¯åœ¨è¿›è¡Œå®é™…çš„è½¬è´¦æ“ä½œä¹‹å‰æ˜¯å¦å¯¹å˜é‡è¿›è¡Œäº†æ“ä½œã€‚(2)sendçŠ¶æ€æ²¡æœ‰æ£€æŸ¥ç¦æ­¢åœ¨sendæ“ä½œå¤±è´¥çš„æ—¶å€™å¯¹å…¨å±€å˜é‡è¿›è¡Œä¿®æ”¹ã€‚å³åœ¨æ¯ä¸€ä¸ªå…¨å±€å˜é‡ä¿®æ”¹çš„åœ°æ–¹æ’å…¥assert()è¯­å¥ã€‚(3)sendå¤±è´¥ä¸å…è®¸åœ¨sendå¤±è´¥çš„æ—¶å€™ç«‹åˆ»è°ƒç”¨throwè¯­å¥ã€‚(4)æ•´æ•°æº¢å‡ºæ“ä½œä½¿ç”¨LLVMå·¥å…·é“¾ä¸­çš„æ•´æ•°æ£€æŸ¥å™¨ã€‚]]></content>
      <categories>
        <category>è®ºæ–‡</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡,æ™ºèƒ½åˆçº¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuä¸‹LLVMå¼€å‘ç¯å¢ƒçš„é…ç½®]]></title>
    <url>%2F2018%2F10%2F08%2Fllvm%2F</url>
    <content type="text"><![CDATA[å®‰è£…clangå’Œcmakesudo apt-get install clang cmake å®‰è£…llvmsudo apt-get install llvmä½¿ç”¨è¿™ç§æ–¹æ³•æˆ‘é»˜è®¤å®‰è£…ä¸Šçš„llvmç‰ˆæœ¬ä¸º3.8.0ï¼Œå®‰è£…åçš„æ–‡ä»¶ç›®å½•ä¸º/usr/share/llvm-3.8 ä¿®æ”¹LLVMConfig.cmakeæ–‡ä»¶set(LLVM_CMAKE_DIR &quot;${LLVM_INSTALL_PREFIX}/share/llvm/cmake&quot;)æ”¹ä¸ºset(LLVM_CMAKE_DIR &quot;${LLVM_INSTALL_PREFIX}/share/llvm-3.8/cmake&quot;) ä¿®æ”¹LLVMExports-relwithdebinfo.cmakeæ–‡ä»¶ç”±äºæƒé™é—®é¢˜ä¸èƒ½ç›´æ¥æ‰“å¼€ä¿®æ”¹ï¼Œåœ¨å‘½ä»¤è¡Œä¸­å†™å…¥:sudo gedit LLVMExports-relwithdebinfo.cmakeå¯¹æ–‡ä»¶è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹:123#Commands may need to know the format version. set(CMAKE_IMPORT_FILE_VERSION 1)set(_IMPORT_PREFIX &quot;/usr/lib/llvm-3.8&quot;) æ³¨é‡Šä¸Pollyç›¸å…³çš„åº“å¼•ç”¨1234567891011121314151617181920212223242526272829# Import target "PollyISL" for configuration "RelWithDebInfo" # set_property(TARGET PollyISL APPEND PROPERTY IMPORTED_CONFIGURATIONS RELWITHDEBINFO) # set_target_properties(PollyISL PROPERTIES # IMPORTED_LINK_INTERFACE_LANGUAGES_RELWITHDEBINFO "C" # IMPORTED_LOCATION_RELWITHDEBINFO "$&#123;_IMPORT_PREFIX&#125;/lib/libPollyISL.a" # ) # # list(APPEND _IMPORT_CHECK_TARGETS PollyISL ) # list(APPEND _IMPORT_CHECK_FILES_FOR_PollyISL "$&#123;_IMPORT_PREFIX&#125;/lib/libPollyISL.a" ) # # # Import target "Polly" for configuration "RelWithDebInfo" # set_property(TARGET Polly APPEND PROPERTY IMPORTED_CONFIGURATIONS RELWITHDEBINFO) # set_target_properties(Polly PROPERTIES # IMPORTED_LINK_INTERFACE_LANGUAGES_RELWITHDEBINFO "CXX" # IMPORTED_LOCATION_RELWITHDEBINFO "$&#123;_IMPORT_PREFIX&#125;/lib/libPolly.a" # ) # # list(APPEND _IMPORT_CHECK_TARGETS Polly ) # list(APPEND _IMPORT_CHECK_FILES_FOR_Polly "$&#123;_IMPORT_PREFIX&#125;/lib/libPolly.a" ) # # # Import target "LLVMPolly" for configuration "RelWithDebInfo" # set_property(TARGET LLVMPolly APPEND PROPERTY IMPORTED_CONFIGURATIONS RELWITHDEBINFO) # set_target_properties(LLVMPolly PROPERTIES # IMPORTED_LOCATION_RELWITHDEBINFO "$&#123;_IMPORT_PREFIX&#125;/lib/LLVMPolly.so" # IMPORTED_NO_SONAME_RELWITHDEBINFO "TRUE" # ) # # list(APPEND _IMPORT_CHECK_TARGETS LLVMPolly ) # list(APPEND _IMPORT_CHECK_FILES_FOR_LLVMPolly "$&#123;_IMPORT_PREFIX&#125;/lib/LLVMPolly.so" ) ä½¿ç”¨LLVMè¿›è¡Œå¼€å‘æ–°å»ºæ–‡ä»¶å¤¹: HowToUseJITç›®å½•ç»“æ„å¦‚ä¸‹:12345HowToUseJIT -- src + -- HowToUseJIT.cpp -- CMakeLists.txt -- build åœ¨HowToUseJITæ–‡ä»¶å¤¹ä¸‹è¿›è¡Œå¦‚ä¸‹æ“ä½œ:123cd buildcmake ..make HowToUseJIT.cppå’ŒCMakeLists.txtæ–‡ä»¶å¯ä»¥è‡ªå·±æ ¹æ®LLVMæä¾›çš„APIè‡ªè¡Œå¼€å‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢æ‰€ç»™çš„ä¾‹å­ï¼šHowToUseJIT.cpp1234567891011121314151617181920212223242526272829303132333435363738#include "llvm/IR/LLVMContext.h"#include "llvm/IR/Function.h"#include "llvm/IR/BasicBlock.h"#include "llvm/ADT/ArrayRef.h"#include "llvm/IR/Module.h"#include "llvm/IR/IRBuilder.h"#include &lt;vector&gt;#include &lt;string&gt; int main()&#123; llvm::LLVMContext &amp; context = llvm::getGlobalContext(); llvm::Module *module = new llvm::Module("asdf", context); llvm::IRBuilder&lt;&gt; builder(context); llvm::FunctionType *funcType = llvm::FunctionType::get(builder.getVoidTy(), false); llvm::Function *mainFunc = llvm::Function::Create(funcType, llvm::Function::ExternalLinkage, "main", module); llvm::BasicBlock *entry = llvm::BasicBlock::Create(context, "entrypoint", mainFunc); builder.SetInsertPoint(entry); llvm::Value *helloWorld = builder.CreateGlobalStringPtr("hello world!\n"); std::vector&lt;llvm::Type *&gt; putsArgs; putsArgs.push_back(builder.getInt8Ty()-&gt;getPointerTo()); llvm::ArrayRef&lt;llvm::Type*&gt; argsRef(putsArgs); llvm::FunctionType *putsType = llvm::FunctionType::get(builder.getInt32Ty(), argsRef, false); //llvm::Constant *putsFunc = module-&gt;getOrInsertFunction("puts", putsType); llvm::Function *putsFunc = llvm::Function::Create(putsType, llvm::Function::ExternalLinkage, "puts", module); llvm::BasicBlock *putsentry = llvm::BasicBlock::Create(context, "entrypoint", putsFunc); builder.SetInsertPoint(putsentry); builder.CreateCall(putsFunc, helloWorld); builder.CreateRetVoid(); module-&gt;dump();&#125; CMakeLists.txt123456789101112131415161718192021222324252627282930313233343536373839404142cmake_minimum_required(VERSION 2.8)project(llvm_test)set(LLVM_TARGETS_TO_BUILD X86)set(LLVM_BUILD_RUNTIME OFF)set(LLVM_BUILD_TOOLS OFF)find_package(LLVM REQUIRED CONFIG)message(STATUS "Found LLVM $&#123;LLVM_INCLUDE_DIRS&#125;")message(STATUS "Using LLVMConfig.cmake in: $&#123;LLVM_DIR&#125;")SET (CMAKE_CXX_COMPILER_ENV_VAR "clang++")SET (CMAKE_CXX_FLAGS "-std=c++11")SET (CMAKE_CXX_FLAGS_DEBUG "-g")SET (CMAKE_CXX_FLAGS_MINSIZEREL "-Os -DNDEBUG")SET (CMAKE_CXX_FLAGS_RELEASE "-O4 -DNDEBUG")SET (CMAKE_CXX_FLAGS_RELWITHDEBINFO "-O2 -g")SET(EXECUTABLE_OUTPUT_PATH $&#123;PROJECT_SOURCE_DIR&#125;/bin)include_directories($&#123;LLVM_INCLUDE_DIRS&#125;)add_definitions($&#123;LLVM_DEFINITIONS&#125;)file(GLOB_RECURSE source_files "$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/src/*.cpp")add_executable(llvm_test $&#123;source_files&#125;)install(TARGETS llvm_test RUNTIME DESTINATION bin)# Find the libraries that correspond to the LLVM components# that we wish to usellvm_map_components_to_libnames(llvm_libs Core ExecutionEngine Interpreter MC Support nativecodegen)# Link against LLVM librariestarget_link_libraries(llvm_test $&#123;llvm_libs&#125;) å¦‚æœç¼–è¯‘é€šè¿‡è¯´æ˜LLVMå¼€å‘ç¯å¢ƒæ­å»ºæˆåŠŸï¼Œå¦‚æœæŠ¥ä¸€äº›åº“æ–‡ä»¶ç¼ºå¤±çš„é”™è¯¯æœ‰å¯èƒ½æ˜¯å› ä¸ºé»˜è®¤LLVMæ–‡ä»¶å¤¹çš„æ–‡ä»¶åä¸ºllvmè€Œå®‰è£…LLVMåè‡ªå¸¦çš„æ–‡ä»¶åä¸ºllvm-3.8å¯ä»¥æ ¹æ®æŠ¥é”™å†…å®¹å¯¹/usr/share/llvm-3.8æˆ–usr/lib/llvm-3.8çš„æ–‡ä»¶åè¿›è¡Œä¿®æ”¹]]></content>
      <categories>
        <category>LLVM</category>
      </categories>
      <tags>
        <tag>LLVM</tag>
      </tags>
  </entry>
</search>
